########################
# Horizon Needle
########################

utility_component_template = {
	key = "SHIP_COSMOGENESIS_EXODUS"
	size = large
	icon = GFX_ship_part_aura_pd_penetration
	icon_frame = 1
	power = 0
	
	scripted_action_possible = {
		OR = {
			AND = {
				is_planet_class = pc_core_quasar
				from.owner = {
					has_country_flag = exodus_ready
				}
			}

			AND = {
				is_planet_class = pc_core_black_hole
				from.owner = {
					has_country_flag = exodus_ready
				}
			}

			AND = {
				is_planet_class = pc_black_hole
				from.owner = {
					has_country_flag = exodus_ready
				}
			}
			
			AND = {
				is_colony = yes
				has_planet_flag = cosmogenesis_pickup_planet
				from.owner = {
					NOT = { has_country_flag = exodus_ready }
				}
			}
		}
	}

	scripted_action_button_possible = {
		custom_tooltip = {
			fail_text = cosmogenesis_exodus_tt
			NOR = {
				owner = { has_country_flag = cosmogenesis_supermassive }
				owner = { has_country_flag = cosmogenesis_vester }
			}
		}
	}

	scripted_action_name = on_cosmogenesis_exodus_planet_reached
	scripted_action_tooltip = exodus_ship_button
	scripted_action_icon = GFX_fleet_action_button_active_reconnaissance
	scripted_action_activity_key = exodus_action_activity_key
	scripted_action_context_menu_name = exodus_context_menu_title
	scripted_action_progress_activity_key = exodus_action_progress_activity_key
	scripted_action_required_progress = 60

	ai_weight = {
		factor = 2
	}
}
