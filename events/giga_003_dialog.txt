namespace = giga_dialog

############################################################################################################################################################
###################################################################### Megastructures ######################################################################
############################################################################################################################################################
####################################################
### Kugelblitz #####################################
####################################################
country_event = {
	id = giga_dialog.101
	title = "giga_dialog.101.name"
	desc = "giga_dialog.101.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3301.a" }
}

country_event = {
	id = giga_dialog.102
	title = "giga_dialog.102.name"
	desc = "giga_dialog.102.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3302.a" }
}

country_event = {
	id = giga_dialog.103
	title = "giga_dialog.103.name"
	desc = "giga_dialog.103.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	trigger = {
		NOT = { has_country_flag = giga_repaired_mega_no_dialog }
	}
	option = { name = "giga_dialog.3302.a" }
}

# Found ruined Kugelblitz
ship_event = {
	id = giga_dialog.104
	title = "giga_dialog.104.name"
	desc = "giga_dialog.104.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_kugelblitz } }
		from = { any_system_megastructure = { is_megastructure_type = kugelblitz_ruined } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_kugelblitz } }
	option = { name = "giga_dialog.104.a" }
}

# Repaired Kugelblitz
country_event = {
	id = giga_dialog.105
	title = "giga_dialog.105.name"
	desc = "giga_dialog.105.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	immediate = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	option = {
		name = "giga_dialog.105.a"
	}
}

# Mega Kugelblitz
country_event = {
	id = giga_dialog.106
	title = "giga_dialog.106.name"
	desc = "giga_dialog.106.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.106.a"
	}
}

# Giga Kugelblitz
country_event = {
	id = giga_dialog.107
	title = "giga_dialog.107.name"
	desc = "giga_dialog.107.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.107.a"
	}
}
####################################################
### Lunar Disco Ball ###############################
####################################################
country_event = {
	id = giga_dialog.201
	title = "giga_dialog.201.name"
	desc = "giga_dialog.201.desc"
	picture = GFX_evt_disco_moon
	show_sound = event_dyson_sphere_build_start
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.201.a" }
}

country_event = {
	id = giga_dialog.202
	title = "giga_dialog.202.name"
	desc = "giga_dialog.202.desc"
	picture = GFX_evt_disco_moon
	show_sound = event_dyson_sphere_build_upgrade_panel
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.202.a" }
}

country_event = {
	id = giga_dialog.203
	title = "giga_dialog.203.name"
	desc = "giga_dialog.203.desc"
	picture = GFX_evt_disco_moon
	show_sound = event_dyson_sphere_build_complete
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.203.a" }
}

####################################################
### Gas Giant Habitat ##############################
####################################################
country_event = {
	id = giga_dialog.301
	title = "giga_dialog.301.name"
	desc = "giga_dialog.301.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.301.a" }
}

country_event = {
	id = giga_dialog.302
	title = "giga_dialog.302.name"
	desc = "giga_dialog.302.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.302.a" }
}

country_event = {
	id = giga_dialog.303
	title = "giga_dialog.303.name"
	desc = "giga_dialog.303.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.303.a" }
}

country_event = {
	id = giga_dialog.304
	title = "giga_dialog.304.name"
	desc = "giga_dialog.304.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.304.a" }
}

####################################################
### Macroengineering Testing Station ###############
####################################################
country_event = {
	id = giga_dialog.401
	title = "giga_dialog.401.name"
	desc = "giga_dialog.401.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.401.a" }
}

#Big testing station
country_event = {
	id = giga_dialog.402
	title = "giga_dialog.402.name"
	desc = "giga_dialog.402.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.402.a" }
}

# Ruined test site
ship_event = {
	id = giga_dialog.403
	title = "giga_dialog.403.name"
	desc = "giga_dialog.403.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_engineeringsite } }
		from = { any_system_megastructure = { is_megastructure_type = macro_test_site_ruined } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_engineeringsite } }
	option = { name = "giga_dialog.403.a" }
}

#Repaired test site
country_event = {
	id = giga_dialog.404
	title = "giga_dialog.404.name"
	desc = "giga_dialog.404.desc"
	picture = GFX_evt_cybernetics
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.404.a"
		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	}
}

####################################################
### Matrioshka Brain ###############################
####################################################
country_event = {
	id = giga_dialog.501
	title = "giga_dialog.501.name"
	desc = "giga_dialog.501.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.501.a" }
}

#Solar capacitors built
country_event = {
	id = giga_dialog.502
	title = "giga_dialog.502.name"
	desc = "giga_dialog.502.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.502.a" }
}

#Main databank built
country_event = {
	id = giga_dialog.503
	title = "giga_dialog.503.name"
	desc = "giga_dialog.503.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.503.a" }
}

#Central processor built
country_event = {
	id = giga_dialog.504
	title = "giga_dialog.504.name"
	desc = "giga_dialog.504.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.504.a" }
}

#Quantum calculators built
country_event = {
	id = giga_dialog.505
	title = "giga_dialog.505.name"
	desc = "giga_dialog.505.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.505.a" }
}

#Big brain completed
country_event = {
	id = giga_dialog.506
	title = "giga_dialog.506.name"
	desc = "giga_dialog.506.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.506.a" }
}

#Stasis Pods added
country_event = {
	id = giga_dialog.507
	title = "giga_dialog.507.name"
	desc = "giga_dialog.507.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.501.a" }
}

#Stasis Pods added
country_event = {
	id = giga_dialog.508
	title = "giga_dialog.508.name"
	desc = "giga_dialog.508.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.508.a" }
}

####################################################
### Orbital Bastion ################################
####################################################
country_event = {
	id = giga_dialog.601
	title = "giga_dialog.601.name"
	desc = "giga_dialog.601.desc"
	picture = GFX_evt_federation_fleet
	show_sound = event_dyson_sphere_build_start
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = EXCELLENT }
}

country_event = {
	id = giga_dialog.602
	title = "giga_dialog.602.name"
	desc = "giga_dialog.602.desc"
	picture = GFX_evt_federation_fleet
	show_sound = event_dyson_sphere_build_upgrade_frame
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = EXCELLENT }
}

country_event = {
	id = giga_dialog.603
	title = "giga_dialog.603.name"
	desc = "giga_dialog.603.desc"
	picture = GFX_evt_federation_fleet
	show_sound = event_dyson_sphere_build_upgrade_frame
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = EXCELLENT }
}

country_event = {
	id = giga_dialog.604
	title = "giga_dialog.604.name"
	desc = "giga_dialog.604.desc"
	picture = GFX_evt_federation_fleet
	show_sound = event_dyson_sphere_build_complete
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = EXCELLENT }
}

####################################################
### Neutronium Gigaforge ###########################
####################################################
country_event = {
	id = giga_dialog.701
	title = "giga_dialog.701.name"
	desc = "giga_dialog.701.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.701.a" }
}

#Neutronium hub
country_event = {
	id = giga_dialog.702
	title = "giga_dialog.702.name"
	desc = "giga_dialog.702.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.702.a" }
}

#Neutronium  processing rings
country_event = {
	id = giga_dialog.703
	title = "giga_dialog.703.name"
	desc = "giga_dialog.703.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.703.a" }
}

#Neutronium forge finished
country_event = {
	id = giga_dialog.704
	title = "giga_dialog.704.name"
	desc = "giga_dialog.704.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.704.a" }
}

#Ruined gigaforge
ship_event = {
	id = giga_dialog.705
	title = "giga_dialog.705.name"
	desc = "giga_dialog.705.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_gigaforge } }
		from = { any_system_megastructure = { is_megastructure_type = neutronium_gigaforge_restored } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_gigaforge } }
	option = { name = "giga_dialog.705.a" }
}

#Repaired gigaforge
country_event = {
	id = giga_dialog.706
	title = "giga_dialog.706.name"
	desc = "giga_dialog.706.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.706.a"
		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	}
}

####################################################
### Nidavellir Forge ###############################
####################################################
country_event = {
	id = giga_dialog.801
	title = "giga_dialog.801.name"
	desc = "giga_dialog.801.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.801.a" }
}

country_event = {
	id = giga_dialog.802
	title = "giga_dialog.802.name"
	desc = "giga_dialog.802.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.802.a" }
}

country_event = {
	id = giga_dialog.803
	title = "giga_dialog.803.name"
	desc = "giga_dialog.803.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.803.a" }
}

country_event = {
	id = giga_dialog.804
	title = "giga_dialog.804.name"
	desc = "giga_dialog.804.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.804.a" }
}

country_event = {
	id = giga_dialog.805
	title = "giga_dialog.805.name"
	desc = "giga_dialog.805.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.805.a" }
}

####################################################
### Orbital Arcology ###############################
####################################################
country_event = {
	id = giga_dialog.901
	title = "giga_dialog.901.name"
	desc = "giga_dialog.901.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.901.a" }
}

country_event = {
	id = giga_dialog.902
	title = "giga_dialog.902.name"
	desc = "giga_dialog.902.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.902.a" }
}

country_event = {
	id = giga_dialog.903
	title = "giga_dialog.903.name"
	desc = "giga_dialog.903.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.903.a" }
}

country_event = {
	id = giga_dialog.904
	title = "giga_dialog.904.name"
	desc = "giga_dialog.904.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.904.a" }
}

####################################################
### Orbital Artificial Ecosystem ###################
####################################################
# country_event = {
# 	id = giga_dialog.1001
# 	title = "giga_dialog.1001.name"
# 	desc = "giga_dialog.1001.desc"
# 	picture = GFX_evt_alien_nature
# 	show_sound = event_dyson_sphere_build_start
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.1001.a" }
# }

# #Orbital Artificial Ecosystem built
# country_event = {
# 	id = giga_dialog.1002
# 	title = "giga_dialog.1002.name"
# 	desc = "giga_dialog.1002.desc"
# 	picture = GFX_evt_alien_nature
# 	show_sound = event_dyson_sphere_build_upgrade_panel
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.1002.a" }
# }

# # Ruined orbital_artificial_eco
# ship_event = {
# 	id = giga_dialog.1003
# 	title = "giga_dialog.1003.name"
# 	desc = "giga_dialog.1003.desc"
# 	picture = GFX_evt_space_debris
# 	show_sound = event_radio_chatter
# 	location = from
# 	is_triggered_only = yes

# 	trigger = {
# 		owner = { NOT = { has_country_flag = encountered_ruined_orbitalsystem } }
# 		from = { any_system_megastructure = { is_megastructure_type = orbital_artificial_eco_ruined } }
# 	}

# 	immediate = { owner = { set_country_flag = encountered_ruined_orbitalsystem } }
# 	option = { name = "giga_dialog.1003.a" }
# }

# #Repaired orbital_artificial_eco
# country_event = {
# 	id = giga_dialog.1004
# 	title = "giga_dialog.1004.name"
# 	desc = "giga_dialog.1004.desc"
# 	picture = GFX_evt_continental_planet
# 	show_sound = event_dyson_sphere_build_complete
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = {
# 		name = "giga_dialog.1004.a"
# 		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
# 	}
# }

####################################################
### Orbital Elysium ################################
####################################################
country_event = {
	id = giga_dialog.1101
	title = "giga_dialog.1101.name"
	desc = "giga_dialog.1101.desc"
	picture = GFX_evt_colony_settlement
	show_sound = event_mystic_reveal
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1101.a" }
}

####################################################
### Penrose Sphere #################################
####################################################
country_event = {
	id = giga_dialog.1201
	title = "giga_dialog.1201.name"
	desc = "giga_dialog.1201.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1201.a" }
}

country_event = {
	id = giga_dialog.1202
	title = "giga_dialog.1202.name"
	desc = "giga_dialog.1202.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1202.a" }
}

#Collect energy
country_event = {
	id = giga_dialog.1203
	title = "giga_dialog.1203.name"
	desc = "giga_dialog.1203.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1203.a" }
}

#Stabilized
country_event = {
	id = giga_dialog.1204
	title = "giga_dialog.1204.name"
	desc = "giga_dialog.1204.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes

	trigger = {
		from = { is_megastructure_type = penrose_sphere_b3}
	}

	option = { name = "giga_dialog.1204.a" }
}

#Ringworld!
country_event = {
	id = giga_dialog.1205
	title = "giga_dialog.1205.name"
	desc = "giga_dialog.1205.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1205.a" }
}

#Ringworld segment finished
country_event = {
	id = giga_dialog.1206
	title = "giga_dialog.1206.name"
	desc = "giga_dialog.1206.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1206.a" }
}

# Detonate or make safe?
country_event = {
	id = giga_dialog.1207
	title = "giga_dialog.1207.title"
	desc = { trigger = { event_target:giga_system = { has_megastructure = penrose_sphere_a2 } } text = "giga_dialog.1207.a.desc" } #Bomb
	desc = { trigger = { event_target:giga_system = { has_megastructure = penrose_sphere_b2 } } text = "giga_dialog.1207.b.desc" } #Stablized
	picture = GFX_evt_black_hole
	show_sound = event_super_explosion
	location = event_target:giga_planet
	is_triggered_only = yes
	
	# Detonate
	option = {
		name = "giga_dialog.1207.a"
		trigger = {
			event_target:giga_system = { has_megastructure = penrose_sphere_a2 }
		}
	}

	# Make it safe
	option = {
		name = "giga_dialog.1207.b"
		trigger = {
			event_target:giga_system = { has_megastructure = penrose_sphere_b2 }
		}
	}

	option = {
		name = EXCELLENT
		trigger = {
			NOT = { event_target:giga_system = { OR = { has_megastructure = penrose_sphere_b2 has_megastructure = penrose_sphere_a2 } } }
		}
	}
}

# Detonate
country_event = {
	id = giga_dialog.1208
	title = "giga_dialog.1208.title"
	desc = "giga_dialog.1208.desc"
	picture = GFX_evt_black_hole
	show_sound = event_super_explosion
	location = event_target:penrose_detonate_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1208.a" }

	immediate = {
		hidden_effect = {
			save_event_target_as = penrose_detonator
			random_system = {
				limit = { has_star_flag = penrose_detonate_system }
				save_event_target_as = penrose_detonate_system
				star = {
					planet_event = { id = giga_mega.501 days = 1 }	# Animation
					planet_event = { id = giga_mega.502 days = 2 }	# Animation
					planet_event = { id = giga_mega.502 days = 3 }	# Animation
					planet_event = { id = giga_mega.502 days = 4 }	# Animation
					planet_event = { id = giga_mega.502 days = 5 }	# Animation
					planet_event = { id = giga_mega.502 days = 6 }	# Animation
					planet_event = { id = giga_mega.502 days = 7 }	# Animation
					planet_event = { id = giga_mega.502 days = 8 }	# Animation
					planet_event = { id = giga_mega.502 days = 9 }	# Animation
					planet_event = { id = giga_mega.503 days = 10 }	# Boom
				}
			}
		}
	}
}

####################################################
### Planetary Computer #############################
####################################################
country_event = {
	id = giga_dialog.1301
	title = "giga_dialog.1301.name"
	desc = "giga_dialog.1301.desc"
	picture = GFX_evt_contingency_planet
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1301.a" }
}

country_event = {
	id = giga_dialog.1302
	title = "giga_dialog.1302.name"
	desc = "giga_dialog.1302.desc"
	picture = GFX_evt_contingency_planet
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1302.a" }
}

country_event = {
	id = giga_dialog.1303
	title = "giga_dialog.1303.name"
	desc = "giga_dialog.1303.desc"
	picture = GFX_evt_contingency_planet
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1303.a" }
}

####################################################
### Psychic Hypersiphon ############################
####################################################
country_event = {
	id = giga_dialog.1401
	title = "giga_dialog.1401.name"
	desc = "giga_dialog.1401.desc"
	picture = GFX_evt_wormhole
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1401.a" }
}

country_event = {
	id = giga_dialog.1402
	title = "giga_dialog.1402.name"
	desc = "giga_dialog.1402.desc"
	picture = GFX_evt_wormhole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1402.a" }
}

#country_event = {
#	id = giga_dialog.1403
#	title = "giga_dialog.1403.name"
#	desc = "giga_dialog.1403.desc"
#	picture = GFX_evt_wormhole
#	show_sound = event_dyson_sphere_build_upgrade_panel
#	location = event_target:giga_planet
#	is_triggered_only = yes
#	option = { name = "giga_dialog.1403.a" }
#}

country_event = {
	id = giga_dialog.1404
	title = "giga_dialog.1404.name"
	desc = "giga_dialog.1404.desc"
	picture = GFX_evt_wormhole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1404.a" }
}

####################################################
### Ringworld Upgrade ##############################
####################################################
country_event = {
	id = giga_dialog.1501
	title = "giga_dialog.1501.name"
	desc = "giga_dialog.1501.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1501.a" }
}

country_event = {
	id = giga_dialog.1502
	title = "giga_dialog.1502.name"
	desc = "giga_dialog.1502.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1502.a" }
}

# Completed Titanic/Behemoth/Gargatuan Upgrades
country_event = {
	id = giga_dialog.1503
	title = "giga_dialog.1503.name"
	desc = "giga_dialog.1503.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.1801.a"
		owner = { add_monthly_resource_mult = { resource = influence value = 1 min = 1000 max = 1000 } }
	}
}

####################################################
### Starlifter #####################################
####################################################
country_event = {
	id = giga_dialog.1601
	title = "giga_dialog.1601.name"
	desc = "giga_dialog.1601.desc"
	picture = GFX_evt_star_lifters
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1601.a" }
}

#Star Lifter Frame
country_event = {
	id = giga_dialog.1602
	title = "giga_dialog.1602.name"
	desc = "giga_dialog.1602.desc"
	picture = GFX_evt_star_lifters
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1602.a" }
}

# Star Lifter Stage completed
country_event = {
	id = giga_dialog.1603
	title = "giga_dialog.1603.name"
	desc = "giga_dialog.1603.desc"
	picture = GFX_evt_star_lifters
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1603.a" }
}

country_event = {
	id = giga_dialog.1604
	title = "giga_dialog.1604.name"
	desc = "giga_dialog.1604.desc"
	picture = GFX_evt_star_lifters
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1604.a" }
}

# Star Lifter completed
country_event = {
	id = giga_dialog.1605
	title = "giga_dialog.1605.name"
	desc = "giga_dialog.1605.desc"
	picture = GFX_evt_star_lifters
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.1605.a" }
}

####################################################
### Substellar Compressor ##########################
####################################################
country_event = {
	id = giga_dialog.1701
	title = "giga_dialog.1701.name"
	desc = "giga_dialog.1701.desc"
	picture = GFX_evt_browndwarf
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1701.a" }
}

country_event = {
	id = giga_dialog.1702
	title = "giga_dialog.1702.name"
	desc = "giga_dialog.1702.desc"
	picture = GFX_evt_browndwarf
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1702.a" }
}

country_event = {
	id = giga_dialog.1703
	title = "giga_dialog.1703.name"
	desc = "giga_dialog.1703.desc"
	picture = GFX_evt_browndwarf
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1703.a" }
}

country_event = {
	id = giga_dialog.1704
	title = "giga_dialog.1704.name"
	desc = "giga_dialog.1704.desc"
	picture = GFX_evt_browndwarf
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1704.a" }
}

country_event = {
	id = giga_dialog.1705
	title = "giga_dialog.1705.title"
	desc = "giga_dialog.1705.desc"
	picture = GFX_evt_ignite
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1705.a" }
}

####################################################
### Particle Accelerator ###########################
####################################################
country_event = {
	id = giga_dialog.1801
	title = "giga_dialog.1801.name"
	desc = "giga_dialog.1801.desc"
	picture = GFX_evt_physics_research
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1801.a" }
}

#Particle accelerator built
country_event = {
	id = giga_dialog.1802
	title = "giga_dialog.1802.name"
	desc = "giga_dialog.1802.desc"
	picture = GFX_evt_physics_research
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1802.a" }
}

# # Ruined accelerator
# ship_event = {
# 	id = giga_dialog.1803
# 	title = "giga_dialog.1803.name"
# 	desc = "giga_dialog.1803.desc"
# 	picture = GFX_evt_space_debris
# 	show_sound = event_radio_chatter
# 	location = from
# 	is_triggered_only = yes

# 	trigger = {
# 		owner = { NOT = { has_country_flag = encountered_ruined_accelerator } }
# 		from = { any_system_megastructure = { is_megastructure_type = particle_accelerator_ruined } }
# 	}

# 	immediate = { owner = { set_country_flag = encountered_ruined_accelerator } }
# 	option = { name = "giga_dialog.1803.a" }
# }

#Repaired accelerator
country_event = {
	id = giga_dialog.1804
	title = "giga_dialog.1804.name"
	desc = "giga_dialog.1804.desc"
	picture = GFX_evt_physics_research
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.1804.a"
		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	}
}

####################################################
### S.U.C.C. #######################################
####################################################
country_event = {
	id = giga_dialog.1901
	title = "giga_dialog.1901.name"
	desc = "giga_dialog.1901.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.1901.a" }
}

# country_event = {
# 	id = giga_dialog.1902
# 	title = "giga_dialog.1902.name"
# 	desc = "giga_dialog.1902.desc"
# 	picture = GFX_evt_gas_giant
# 	show_sound = event_dyson_sphere_build_upgrade_panel
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.1902.a" }
# }

# Operational
country_event = {
	id = giga_dialog.1903
	title = "giga_dialog.1903.title"
	desc = "giga_dialog.1903.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes

	immediate = {
		from.planet = { planet_event = { id = giga_mega.201 days = 720 } }
	}

	option = { name = "giga_dialog.1903.a" }
}

# Succ depleted
country_event = {
	id = giga_dialog.1904
	title = "giga_dialog.1904.title"
	desc = "giga_dialog.1904.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3305.a" }
}

####################################################
### Yggdrasil Orchid Complex #######################
####################################################
country_event = {
	id = giga_dialog.2001
	title = "giga_dialog.2001.name"
	desc = "giga_dialog.2001.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2001.a" }
}

country_event = {
	id = giga_dialog.2002
	title = "giga_dialog.2002.name"
	desc = "giga_dialog.2002.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2002.a" }
}

country_event = {
	id = giga_dialog.2003
	title = "giga_dialog.2003.name"
	desc = "giga_dialog.2003.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2003.a" }
}

country_event = {
	id = giga_dialog.2004
	title = "giga_dialog.2004.name"
	desc = "giga_dialog.2004.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2004.a" }
}

# Ruined orchid
ship_event = {
	id = giga_dialog.2005
	title = "giga_dialog.2005.name"
	desc = "giga_dialog.2005.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_orchid } }
		from = { any_system_megastructure = { is_megastructure_type = yggdrasil_orchid_ruined } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_orchid } }
	option = { name = "giga_dialog.2005.a" }
}

# Repaired orchid
country_event = {
	id = giga_dialog.2006
	title = "giga_dialog.2006.name"
	desc = "giga_dialog.2006.desc"
	picture = GFX_evt_gas_giant
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.2006.a"
		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	}
}

####################################################
### Titanic Ringworld ##############################
####################################################
country_event = {
	id = giga_dialog.2101
	title = "giga_dialog.2101.name"
	desc = "giga_dialog.2101.desc"
	picture = GFX_evt_unknown_ships
	show_sound = event_ringworld_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2101.a" }
}

#Titanic Ringworld Frame
country_event = {
	id = giga_dialog.2102
	title = "giga_dialog.2102.name"
	desc = "giga_dialog.2102.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2102.a" }
}

# Titanic Ringworld Segment complete
country_event = {
	id = giga_dialog.2103
	title = "giga_dialog.2103.name"
	desc = "giga_dialog.2103.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2103.a" }
}

# Titanic Ringworld complete
country_event = {
	id = giga_dialog.2104
	title = "giga_dialog.2104.name"
	desc = "giga_dialog.2104.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2104.a" }
}

# Titanic Ringworld restored
country_event = {
	id = giga_dialog.2105
	title = "giga_dialog.2105.name"
	desc = "giga_dialog.2105.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2105.a" }
}

####################################################
### Behemoth Ringworld #############################
####################################################
country_event = {
	id = giga_dialog.2201
	title = "giga_dialog.2201.name"
	desc = "giga_dialog.2201.desc"
	picture = GFX_evt_unknown_ships
	show_sound = event_ringworld_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2201.a" }
}

#Behemoth Ringworld Frame
country_event = {
	id = giga_dialog.2202
	title = "giga_dialog.2202.name"
	desc = "giga_dialog.2202.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2202.a" }
}

#Behemoth Ringworld Habitat
country_event = {
	id = giga_dialog.2203
	title = "giga_dialog.2203.name"
	desc = "giga_dialog.2203.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2203.a" }
}

country_event = {
	id = giga_dialog.2204
	title = "giga_dialog.2204.name"
	desc = "giga_dialog.2204.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2204.a" }
}

# Behemoth Ringworld restored
country_event = {
	id = giga_dialog.2205
	title = "giga_dialog.2205.name"
	desc = "giga_dialog.2205.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2205.a" }
}

####################################################
### Gargantuan Ringworld ###########################
####################################################
country_event = {
	id = giga_dialog.2301
	title = "giga_dialog.2301.name"
	desc = "giga_dialog.2301.desc"
	picture = GFX_evt_unknown_ships
	show_sound = event_ringworld_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2301.a" }
}

# Gargantuan Ringworld Frame
country_event = {
	id = giga_dialog.2302
	title = "giga_dialog.2302.name"
	desc = "giga_dialog.2302.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2302.a" }
}

# Gargantuan Ringworld Segment Complete
country_event = {
	id = giga_dialog.2303
	title = "giga_dialog.2303.name"
	desc = "giga_dialog.2303.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2303.a" }
}

# Completed Gargantuan Ring
country_event = {
	id = giga_dialog.2304
	title = "giga_dialog.2304.name"
	desc = "giga_dialog.2304.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2304.a" }
}

# Gargantuan Ringworld restored
country_event = {
	id = giga_dialog.2305
	title = "giga_dialog.2305.name"
	desc = "giga_dialog.2305.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2305.a" }
}

####################################################
### Ecumenopolis Ringworld #########################
####################################################
planet_event = {
	id = giga_dialog.2401
	title = "giga_dialog.2401.name"
	desc = "giga_dialog.2401.desc"
	picture = GFX_evt_city_planet
	show_sound = event_cityscape
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2401.a" }
}

####################################################
### Alderson Disk ##################################
####################################################
# Specialization, Deprecated left in so weights could be gleamed
# country_event = {
# 	id = giga_dialog.2501
# 	title = "giga_dialog.2501.title"
# 	desc = "giga_dialog.2501.desc"
# 	picture = GFX_evt_alderson
# 	show_sound = event_dyson_sphere_build_start
# 	location = event_target:giga_system
# 	is_triggered_only = yes

# 	option = {
# 		name = "giga_dialog.2501.a"
# 		custom_tooltip = giga_dialog.2501.a.tooltip
# 		hidden_effect = {
# 			event_target:giga_alderson_slice = {
# 				if = {
# 					limit = { has_megastructure_flag = alderson_ruined_left }
# 					upgrade_megastructure_to = alderson_disk_2_construction_gaia_restored_left
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_center }
# 					upgrade_megastructure_to = alderson_disk_2_construction_gaia_restored_center
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_right }
# 					upgrade_megastructure_to = alderson_disk_2_construction_gaia_restored_right
# 					finish_upgrade = yes
# 				}
# 				else = {
# 					upgrade_megastructure_to = alderson_disk_2_construction_gaia
# 					finish_upgrade = yes
# 				}
# 			}
# 		}
# 		ai_chance = {
# 			factor = 10
# 			modifier = { factor = 10	has_monthly_income = { resource = minerals value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = energy value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = food value < 200 } }
# 		}
# 	}

# 	option = {
# 		name = "giga_dialog.2501.b"
# 		custom_tooltip = "giga_dialog.2501.b.tooltip"
# 		allow = { has_technology = giga_tech_planetary_computer }
# 		hidden_effect = {
# 			event_target:giga_alderson_slice = {
# 				if = {
# 					limit = { has_megastructure_flag = alderson_ruined_left }
# 					upgrade_megastructure_to = alderson_disk_2_construction_pc_restored_left
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_center }
# 					upgrade_megastructure_to = alderson_disk_2_construction_pc_restored_center
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_right }
# 					upgrade_megastructure_to = alderson_disk_2_construction_pc_restored_right
# 					finish_upgrade = yes
# 				}
# 				else = {
# 					upgrade_megastructure_to = alderson_disk_2_construction_pc
# 					finish_upgrade = yes
# 				}
# 			}
# 		}
# 		ai_chance = {
# 			factor = 10
# 			modifier = { factor = 10	has_monthly_income = { resource = consumer_goods value >= 200 } }
# 		}
# 	}

# 	option = {
# 		name = "giga_dialog.2501.c"
# 		custom_tooltip = "giga_dialog.2501.c.tooltip"
# 		trigger = {
# 			OR = {
# 				is_gestalt = no
# 				has_valid_civic = civic_machine_servitor
# 			}
# 		}
# 		allow = { has_ascension_perk = ap_arcology_project }
# 		hidden_effect = {
# 			event_target:giga_alderson_slice = {
# 				if = {
# 					limit = { has_megastructure_flag = alderson_ruined_left }
# 					upgrade_megastructure_to = alderson_disk_2_construction_ecu_restored_left
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_center }
# 					upgrade_megastructure_to = alderson_disk_2_construction_ecu_restored_center
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_right }
# 					upgrade_megastructure_to = alderson_disk_2_construction_ecu_restored_right
# 					finish_upgrade = yes
# 				}
# 				else = {
# 					upgrade_megastructure_to = alderson_disk_2_construction_ecu
# 					finish_upgrade = yes
# 				}
# 			}
# 		}
# 		ai_chance = {
# 			factor = 10
# 			modifier = { factor = 10	has_monthly_income = { resource = alloys value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = consumer_goods value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = minerals value >= 200 } }
# 			modifier = { factor = 2		has_federation = yes federation = { has_federation_type = military_federation } }
# 			modifier = { factor = 3		has_ethic = ethic_fanatic_militarist }
# 			modifier = { factor = 1.5	has_ethic = ethic_militarist }
# 			modifier = { factor = 1.5	has_civic = civic_machine_terminator }
# 			modifier = { factor = 1.5	has_civic = civic_fanatic_purifiers }
# 			modifier = { factor = 1.5	has_civic = civic_hive_devouring_swarm }
# 			modifier = { factor = 2		is_at_war = yes }
# 		}
# 	}

# 	option = {
# 		name = "giga_dialog.2501.d"
# 		custom_tooltip = "giga_dialog.2501.d.tooltip"
# 		trigger = { is_hive_empire = yes }
# 		allow = { has_ascension_perk = ap_hive_worlds }
# 		hidden_effect = {
# 			event_target:giga_alderson_slice = {
# 				if = {
# 					limit = { has_megastructure_flag = alderson_ruined_left }
# 					upgrade_megastructure_to = alderson_disk_2_construction_hive_restored_left
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_center }
# 					upgrade_megastructure_to = alderson_disk_2_construction_hive_restored_center
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_right }
# 					upgrade_megastructure_to = alderson_disk_2_construction_hive_restored_right
# 					finish_upgrade = yes
# 				}
# 				else = {
# 					upgrade_megastructure_to = alderson_disk_2_construction_hive
# 					finish_upgrade = yes
# 				}
# 			}
# 		}
# 		ai_chance = {
# 			factor = 10
# 			modifier = { factor = 10	has_monthly_income = { resource = alloys value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = minerals value < 200 } }
# 			modifier = { factor = 1.5	has_civic = civic_hive_devouring_swarm }
# 			modifier = { factor = 2		is_at_war = yes }
# 		}
# 	}

# 	option = {
# 		name = "giga_dialog.2501.e"
# 		custom_tooltip = "giga_dialog.2501.e.tooltip"
# 		trigger = { is_machine_empire = yes }
# 		allow = { has_ascension_perk = ap_machine_worlds }
# 		hidden_effect = {
# 			event_target:giga_alderson_slice = {
# 				if = {
# 					limit = { has_megastructure_flag = alderson_ruined_left }
# 					upgrade_megastructure_to = alderson_disk_2_construction_machine_restored_left
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_center }
# 					upgrade_megastructure_to = alderson_disk_2_construction_machine_restored_center
# 					finish_upgrade = yes
# 				}
# 				else_if = {
# 					limit = { has_megastructure_flag = alderson_ruined_right }
# 					upgrade_megastructure_to = alderson_disk_2_construction_machine_restored_right
# 					finish_upgrade = yes
# 				}
# 				else = {
# 					upgrade_megastructure_to = alderson_disk_2_construction_machine
# 					finish_upgrade = yes
# 				}
# 			}
# 		}
# 		ai_chance = {
# 			factor = 10
# 			modifier = { factor = 10	has_monthly_income = { resource = alloys value < 200 } }
# 			modifier = { factor = 10	has_monthly_income = { resource = minerals value < 200 } }
# 			modifier = { factor = 1.5	has_civic = civic_machine_terminator }
# 			modifier = { factor = 2		is_at_war = yes }
# 		}
# 	}
# }

# Construction site
country_event = {
	id = giga_dialog.2502
	title = "giga_dialog.2502.title"
	desc = "giga_dialog.2502.desc"
	picture = GFX_evt_alderson
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.2502.a" }
}

# Frame Complete
country_event = {
	id = giga_dialog.2503
	title = "giga_dialog.2503.title"
	desc = "giga_dialog.2503.desc"
	picture = GFX_evt_alderson
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = event_target:giga_system
	is_triggered_only = yes
	option = {
		name = "giga_dialog.2503.a"
		custom_tooltip = "giga_dialog.2503.a.tooltip"
	}
}

# Slice Gaia
country_event = {
	id = giga_dialog.2504
	title = "giga_dialog.2504.title"
	desc = "giga_dialog.2504.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.2504.a" }
}

# Slice PC
country_event = {
	id = giga_dialog.2505
	title = "giga_dialog.2505.title"
	desc = "giga_dialog.2505.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = {
		name = "giga_dialog.2505.a"
		custom_tooltip = "giga_dialog.2505.a.tooltip"
	}
}

# Slice Ecu
country_event = {
	id = giga_dialog.2506
	title = "giga_dialog.2506.title"
	desc = "giga_dialog.2506.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.2506.a" }
}

# Slice Hive
country_event = {
	id = giga_dialog.25061
	title = "giga_dialog.25061.title"
	desc = "giga_dialog.25061.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.25061.a" }
}

# Slice Machine
country_event = {
	id = giga_dialog.25062
	title = "giga_dialog.25062.title"
	desc = "giga_dialog.25062.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.25062.a" }
}

# Fully complete
country_event = {
	id = giga_dialog.2507
	title = "giga_dialog.2507.title"
	desc = "giga_dialog.2507.desc"
	picture = GFX_evt_alderson
	show_sound = event_ringworld_build_complete
	location = event_target:giga_system
	is_triggered_only = yes

	option = {
		name = "giga_dialog.2507.a"
		add_monthly_resource_mult = {
			resource = unity
			value = @tier5unityreward
			min = @tier5unitymin
			max = @tier5unitymax
		}
	}
}

####################################################
### War Moon #######################################
####################################################
# Consite Built
country_event = {
	id = giga_dialog.2601
	title = "giga_dialog.2601.name"
	desc = "giga_dialog.2601.desc"
	picture = GFX_evt_attack_moon
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2601.a" }
}

# Movement systems installed
country_event = {
	id = giga_dialog.2602
	title = "giga_dialog.2602.name"
	desc = "giga_dialog.2602.desc"
	picture = GFX_evt_attack_moon
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2602.a" }
}

# Completed
country_event = {
	id = giga_dialog.2603
	title = "giga_dialog.2603.name"
	desc = "giga_dialog.2603.desc"
	picture = GFX_evt_attack_moon
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2603.a" }
}

####################################################
### War Planets ####################################
####################################################
# Construction Site
country_event = {
	id = giga_dialog.2701
	title = "giga_dialog.2701.name"
	desc = "giga_dialog.2701.desc"
	picture = GFX_evt_cold_barren
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2701.a" }
}

# Crust Complete
country_event = {
	id = giga_dialog.2702
	title = "giga_dialog.2702.name"
	desc = "giga_dialog.2702.desc"
	picture = GFX_evt_cold_barren
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2702.a" }
}

# Thrusters Complete
country_event = {
	id = giga_dialog.2703
	title = "giga_dialog.2703.name"
	desc = "giga_dialog.2703.desc"
	picture = GFX_evt_cold_barren
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2703.a" }
}

# Completed
country_event = {
	id = giga_dialog.2704
	title = "giga_dialog.2704.name"
	desc = "giga_dialog.2704.desc"
	picture = GFX_evt_cold_barren
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2704.a" }
}

####################################################
### War System #####################################
####################################################
# Ascension Perk - Disabled, all relevant info is covered in giga_dialog.2802, the systemcraft construction site event
# country_event = {
# 	id = giga_dialog.2801
# 	title = "giga_dialog.2801.name"
# 	desc = "giga_dialog.2801.desc"
# 	picture = GFX_evt_binary_stars
# 	show_sound = event_dyson_sphere_build_start
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.2801.a" }
# }

# Construction Site
country_event = {
	id = giga_dialog.2802
	title = "giga_dialog.2802.name"
	desc = "giga_dialog.2802.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_start
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.2802.a" }
}

# P1 Complete
country_event = {
	id = giga_dialog.2803
	title = "giga_dialog.2803.name"
	desc = "giga_dialog.2803.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_upgrade_panel
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.2803.a" }
}

# P2 Complete
country_event = {
	id = giga_dialog.2804
	title = "giga_dialog.2804.name"
	desc = "giga_dialog.2804.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_upgrade_panel
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.2804.a" }
}

# P4 Complete
country_event = {
	id = giga_dialog.2805
	title = "giga_dialog.2805.name"
	desc = "giga_dialog.2805.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_upgrade_panel
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.2805.a" }
}

# P5 Complete
country_event = {
	id = giga_dialog.2806
	title = "giga_dialog.2806.name"
	desc = "giga_dialog.2806.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_upgrade_panel
	is_triggered_only = yes
	location = event_target:giga_planet
	option = { name = "giga_dialog.2806.a" }
}

# Complete
country_event = {
	id = giga_dialog.2807
	title = "giga_dialog.2807.name"
	desc = "giga_dialog.2807.desc"
	picture = GFX_evt_binary_stars
	show_sound = event_dyson_sphere_build_complete
	is_triggered_only = yes
	option = { name = "giga_dialog.2807.a" }
}

# Decision (Crew acquired)
country_event = {
	id = giga_dialog.2808
	title = "giga_dialog.2808.name"
	desc = "giga_dialog.2808.desc"
	picture = GFX_evt_binary_stars
	is_triggered_only = yes
	option = { name = "giga_dialog.2808.a" }
}

# A random enemy country surrenders if player isn't genocidal
country_event = {
	id = giga_dialog.2809
	title = TRANSMISSION
	desc = "giga_dialog.2809.desc"
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = {
		portrait = event_target:systemcraft_surrender_empire
		room = event_target:systemcraft_surrender_empire.ruler
	}

	option = {
		name = "giga_dialog.2809.a"
		event_target:systemcraft_surrender_empire = { set_subject_of = { who = root preset = preset_vassal } }
	}

	option = { name = "giga_dialog.2809.b" }
}

####################################################
### Interstellar Habitat ###########################
####################################################
#Construction site built
country_event = {
	id = giga_dialog.2901
	title = "giga_dialog.2901.title"
	desc = "giga_dialog.2901.desc"
	picture = GFX_evt_space_station
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes

	option = { name = "giga_dialog.2901.a" hidden_effect = { set_country_flag = giga_interstellar_east } }
	option = { name = "giga_dialog.2901.b" hidden_effect = { set_country_flag = giga_interstellar_north } }
	option = { name = "giga_dialog.2901.c" hidden_effect = { set_country_flag = giga_interstellar_west } }
	option = { name = "giga_dialog.2901.d" hidden_effect = { set_country_flag = giga_interstellar_south } }

	after = { country_event = { id = giga_dialog.2902 days = 2 } }
}

country_event = {
	id = giga_dialog.2902
	title = "giga_dialog.2902.title"
	desc = "giga_dialog.2902.desc"
	picture = GFX_evt_space_station
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2902.a" }

	immediate = {
		hidden_effect = {
			event_target:interstellar_system = {
				if = {
					limit = { root = { has_country_flag = giga_interstellar_east } }
					spawn_system = { hyperlane = yes min_distance >= 5 max_distance <= 5 min_orientation_angle = 0	max_orientation_angle = 0	initializer = "spacehabitat_init" }
					root = { remove_country_flag = giga_interstellar_east }
				}
				else_if = {
					limit = { root = { has_country_flag = giga_interstellar_north } }
					spawn_system = { hyperlane = yes min_distance >= 5 max_distance <= 5 min_orientation_angle = 90	max_orientation_angle = 90	initializer = "spacehabitat_init" }
					root = { remove_country_flag = giga_interstellar_north }
				}
				else_if = {
					limit = { root = { has_country_flag = giga_interstellar_west } }
					spawn_system = { hyperlane = yes min_distance >= 5 max_distance <= 5 min_orientation_angle = 180	max_orientation_angle = 180	initializer = "spacehabitat_init" }
					root = { remove_country_flag = giga_interstellar_west }
				}
				else_if = {
					limit = { root = { has_country_flag = giga_interstellar_south } }
					spawn_system = { hyperlane = yes min_distance >= 5 max_distance <= 5 min_orientation_angle = 270	max_orientation_angle = 270	initializer = "spacehabitat_init" }
					root = { remove_country_flag = giga_interstellar_south }
				}
				last_created_system = {
					create_starbase = {
						size = starbase_outpost
						owner = root
					}
					set_surveyed = { surveyed = yes }
					every_system_planet = { set_surveyed = { surveyed = yes } }
					every_system_megastructure = {
						set_owner = root
					}
				}
				# random_system = {
				# 	limit = { has_star_flag = habitat_hyperlane_needed }
				# 	remove_star_flag = habitat_hyperlane_needed
				# 	add_hyperlane_safe = { from = prev to = this }
				# 	every_system_planet = { set_surveyed = { surveyed = yes surveyor = root } }
				# 	create_starbase = { size = starbase_outpost owner = root }
				# }
			}
			#This was in the old from = { } block of the proper mega phase, which couldn't properly trigger since it didn't have an owner
			country_event = { id = giga_achievements.007 }
			set_country_flag = has_built_or_repaired_megastructure	# Triggers Galactic Wonders
			if = {
				limit = {
					NOR = {
						has_global_flag = giga_achievements_disabled
						has_country_flag = giga_achievement_72
					}
				}
				set_country_flag = giga_achievement_72
				set_timed_country_flag = { flag = giga_achievement_72_notification days = 30 }
				giga_achievement_sound = yes
			}
		}
	}
}

country_event = {
	id = giga_dialog.2903
	title = "giga_dialog.2903.title"
	desc = "giga_dialog.2903.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2903.a" }
}

country_event = {
	id = giga_dialog.2904
	title = "giga_dialog.2904.title"
	desc = "giga_dialog.2904.desc"
	picture = GFX_evt_ringworld
	show_sound = event_ringworld_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.2904.a" }
}

####################################################
### Squareworld ####################################
####################################################
# Found squareworld
ship_event = {
	id = giga_dialog.3001
	title = "giga_dialog.3001.name"
	desc = "giga_dialog.3001.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_squareworld } }
		from = { any_system_megastructure = { is_megastructure_type = r_square_world_ruined } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_squareworld } }
	option = {
		name = "giga_dialog.3001.a"
		enable_special_project = {
			name = "SQUAREWORLD_PROJECT"
			location = solar_system.star
			owner = owner
		}
	}
}

# Finish Special Project
ship_event = {
	id = giga_dialog.3002
	title = "giga_dialog.3002.name"
	desc = "giga_dialog.3002.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes
	immediate = { owner = { set_country_flag = squareworld_expedition } }
	option = { name = "giga_dialog.3002.a" }
}

# Restored Segment
country_event = {
	id = giga_dialog.3003
	title = "giga_dialog.3003.name"
	desc = "giga_dialog.3003.desc"
	picture = GFX_evt_space_debris
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.3003.a" }
}

# Restored hub
country_event = {
	id = giga_dialog.3004
	title = "giga_dialog.3004.name"
	desc = "giga_dialog.3004.desc"
	picture = GFX_evt_sapient_AI
	show_sound = event_radio_chatter
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.3004.a"
		hidden_effect = { country_event = { id = giga_dialog.3005 } }
	}
}

# First Contact with Garyx
country_event = {
	id = giga_dialog.3005
	title = "giga_dialog.3005.name"
	desc = "giga_dialog.3005.desc"
	location = event_target:giga_planet
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	immediate = { create_garyx = yes }

	option = { name = "giga_dialog.3005.a" response_text = "giga_dialog.3005.a.response" is_dialog_only = yes }
	option = { name = "giga_dialog.3005.b" response_text = "giga_dialog.3005.b.response" is_dialog_only = yes }
	option = { name = "giga_dialog.3005.c" response_text = "giga_dialog.3005.c.response" is_dialog_only = yes }
	option = { name = "giga_dialog.3005.d" response_text = "giga_dialog.3005.d.response" is_dialog_only = yes }
	option = {
		name = "giga_dialog.3005.e"
		response_text = "giga_dialog.3005.e.response"
		hidden_effect = { country_event = { id = giga_dialog.3006 days = 1 } }
	}
}

# Report
country_event = {
	id = giga_dialog.3006
	title = "giga_dialog.3006.name"
	desc = "giga_dialog.3006.desc"
	picture = GFX_evt_physics_research
	show_sound = event_radio_chatter
	location = event_target:giga_planet
	is_triggered_only = yes

	option = {
		name = "giga_dialog.3006.a"
		hidden_effect = { country_event = { id = giga_dialog.3007 days = 720 } }
	}
}

# Garyx gives data
country_event = {
	id = giga_dialog.3007
	title = "giga_dialog.3007.name"
	desc = "giga_dialog.3007.desc"
	location = event_target:giga_planet
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}
	immediate = {
		set_country_flag = squareworld_tech_possible
	}
	option = {
		name = "giga_dialog.3007.a"
		add_research_option = giga_tech_event_squareworld
	}
}

# Garyx contacted again
country_event = {
	id = giga_dialog.3008
	title = "giga_dialog.3008.name"
	desc = "giga_dialog.3008.desc"
	location = event_target:giga_planet
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}

	option = { name = "giga_dialog.3008.a" 
		hidden_effect = { 
			country_event = { id = giga_dialog.3009 } 
		} 

		ai_chance = {
			weight = 1
		}
	}
	option = { 
		name = "giga_dialog.3008.c" 
		hidden_effect = { 
			remove_country_flag = talking_to_garyx 
		} 

		ai_chance = {
			weight = 0
		}
	}
}

# Research
country_event = {
	id = giga_dialog.3009
	title = "giga_dialog.3009.name"
	desc = "giga_dialog.3009.desc"
	location = event_target:giga_planet
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = {
		portrait = event_target:garyx_species
		room = garyx_room
	}

	option = {
		name = "giga_dialog.3009.a"
		response_text = "giga_dialog.3009.a.response"
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = { limit = { has_modifier = garyxengineering }	remove_modifier = "garyxengineering" }
			if = { limit = { has_modifier = garyxsociety }		remove_modifier = "garyxsociety" }
			add_modifier = { modifier = "garyxphysics" }
		}

		ai_chance = {
			weight = 2
		}
	}

	option = {
		name = "giga_dialog.3009.b"
		response_text = "giga_dialog.3009.b.response"
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = { limit = { has_modifier = garyxphysics }		remove_modifier = "garyxphysics" }
			if = { limit = { has_modifier = garyxsociety }		remove_modifier = "garyxsociety" }
			add_modifier = { modifier = "garyxengineering" }
		}

		ai_chance = {
			weight = 1
		}
	}

	option = {
		name = "giga_dialog.3009.c"
		response_text = "giga_dialog.3009.c.response"
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = { limit = { has_modifier = garyxengineering }	remove_modifier = "garyxengineering" }
			if = { limit = { has_modifier = garyxphysics }		remove_modifier = "garyxphysics" }
			add_modifier = { modifier = "garyxsociety" }
		}

		ai_chance = {
			weight = 10
		}
	}

	option = {
		name = "giga_dialog.3009.d"
		response_text = "giga_dialog.3009.d.response"
		hidden_effect = {
			remove_country_flag = talking_to_garyx
			if = { limit = { has_modifier = garyxphysics }		remove_modifier = "garyxphysics" }
			if = { limit = { has_modifier = garyxsociety }		remove_modifier = "garyxsociety" }
			if = { limit = { has_modifier = garyxengineering }	remove_modifier = "garyxengineering" }
		}

		ai_chance = {
			weight = 0
		}
	}
}

####################################################
### HRAE-MC Site ###################################
####################################################
country_event = {
	id = giga_dialog.3101
	title = "giga_dialog.3101.name"
	desc = "giga_dialog.3101.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3101.a" }
}

country_event = {
	id = giga_dialog.3102
	title = "giga_dialog.3102.name"
	desc = "giga_dialog.3102.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3102.a" }
}

country_event = {
	id = giga_dialog.3103
	title = "giga_dialog.3103.name"
	desc = "giga_dialog.3103.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3103.a" }
}

country_event = {
	id = giga_dialog.3104
	title = "giga_dialog.3104.name"
	desc = "giga_dialog.3104.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3104.a" }
}

country_event = {
	id = giga_dialog.3105
	title = "giga_dialog.3105.name"
	desc = "giga_dialog.3105.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3105.a" }
}

####################################################
### Nicoll Dyson Beam ##############################
####################################################
country_event = {
	id = giga_dialog.3201
	title = "giga_dialog.3201.name"
	desc = "giga_dialog.3201.desc"
	picture = GFX_evt_nicoll
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3201.a" }
}

country_event = {
	id = giga_dialog.3202
	title = "giga_dialog.3202.name"
	desc = "giga_dialog.3202.desc"
	picture = GFX_evt_nicoll
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3202.a" }
}

country_event = {
	id = giga_dialog.3203
	title = "giga_dialog.3203.name"
	desc = "giga_dialog.3203.desc"
	picture = GFX_evt_nicoll
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3203.a" }
}

country_event = {
	id = giga_dialog.3204
	title = "giga_dialog.3204.name"
	desc = "giga_dialog.3204.desc"
	picture = GFX_evt_nicoll
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3204.a" }
}

country_event = {
	id = giga_dialog.3205
	title = "giga_dialog.3205.name"
	desc = "giga_dialog.3205.desc"
	picture = GFX_evt_nicoll
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3205.a" }
}

####################################################
### Automated Stripmine ############################
####################################################
country_event = {
	id = giga_dialog.3301
	title = "giga_dialog.3301.name"
	desc = "giga_dialog.3301.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3301.a" }
}

country_event = {
	id = giga_dialog.3302
	title = "giga_dialog.3302.name"
	desc = "giga_dialog.3302.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3302.a" }
}



# Operational
country_event = {
	id = giga_dialog.3303
	title = "giga_dialog.3303.title"
	desc = { trigger = { event_target:giga_stripmine = { NOT = { has_megastructure_flag = planet_had_colony  } } } text = "giga_dialog.3303.desc" } 
	desc = { trigger = { event_target:giga_stripmine = { has_megastructure_flag = planet_had_colony } } text = "giga_dialog.3303.monster.desc" }  
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3303.a" trigger = { event_target:giga_stripmine = { NOT = { has_megastructure_flag = planet_had_colony  } } } }
	option = { name = "giga_dialog.3303.b" trigger = { event_target:giga_stripmine = { has_megastructure_flag = planet_had_colony } } }
}

country_event = {
	id = giga_dialog.3304
	title = "giga_dialog.3304.title"
	desc = "giga_dialog.3304.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes

	option = { name = "giga_dialog.3304.a" }
}

country_event = {
	id = giga_dialog.3305
	title = "giga_dialog.3305.title"
	desc = "giga_dialog.3305.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet

	is_triggered_only = yes

	immediate = { 		
		every_megastructure = {
			limit = {
				is_megastructure_type = automated_stripmine_1
				planet = { is_planet_class = pc_core_mined }
			}
			remove_megastructure = this
			planet = {
				add_deposit = d_depletedstripmine_deposit
				remove_planet_flag = depletedstripmine
				set_planet_flag = stripminedplanet
				create_mining_station = { owner = root }
			}
		}
	}

	option = { name = "giga_dialog.3305.a" }
}

country_event = { # Deposit found
	id = giga_dialog.3306
	title = "giga_dialog.3306.name"
	# desc = "giga_dialog.3306.desc"
	# desc = { 
	# 	trigger = {
	# 		switch = {
	# 			trigger = has_megastructure_flag
	# 			new_mineral_deposit 	= { text = giga_dialog.3306.desc.minerals }
	# 			new_alloy_deposit 		= { text = giga_dialog.3306.desc.alloys }
	# 			new_gas_deposit 		= { text = giga_dialog.3306.desc.gas }
	# 			new_motes_deposit 		= { text = giga_dialog.3306.desc.motes }
	# 			new_crystal_deposit 	= { text = giga_dialog.3306.desc.crystals }
	# 			new_tensile_deposit 	= { text = giga_dialog.3306.desc.tensiles }
	# 			default			 		= { text = giga_dialog.3306.desc.default }
	# 		}	
	# 	}	
	# }
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_mineral_deposit
			}
		}
		text = giga_dialog.3306.desc.minerals
	}
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_motes_deposit
			}
		}
		text = giga_dialog.3306.desc.motes
	}
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_gas_deposit
			}
		}
		text = giga_dialog.3306.desc.gas
	}
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_alloy_deposit
			}
		}
		text = giga_dialog.3306.desc.alloys
	}
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_crystal_deposit
			}
		}
		text = giga_dialog.3306.desc.crystals
	}
	desc = {
		trigger ={
			from = {
				has_megastructure_flag = new_tensile_deposit
			}
		}
		text = giga_dialog.3306.desc.tensiles
	}
	desc = {
		trigger ={
			NOT = {
				from = {
					OR = {
						has_megastructure_flag = new_mineral_deposit
						has_megastructure_flag = new_motes_deposit
						has_megastructure_flag = new_gas_deposit
						has_megastructure_flag = new_alloy_deposit
						has_megastructure_flag = new_alloy_deposit
						has_megastructure_flag = new_crystal_deposit
						has_megastructure_flag = new_tensile_deposit
					}
				}
			}
		}
		text = giga_dialog.3306.desc.default
	}
	picture = GFX_evt_physics_cache
	show_sound = event_sensor_ping
	location = fromfrom
	is_triggered_only = yes
	option = { 
		name = "giga_dialog.3302.a" 
		hidden_effect = {
			from = {
				remove_megastructure_flag = new_mineral_deposit
				remove_megastructure_flag = new_alloy_deposit
				remove_megastructure_flag = new_gas_deposit
				remove_megastructure_flag = new_motes_deposit
				remove_megastructure_flag = new_crystal_deposit
				remove_megastructure_flag = new_tensile_deposit
			}
		}
	}
}

####################################################
### Fusion Suppressor ##############################
####################################################
country_event = {
	id = giga_dialog.3401
	title = "giga_dialog.3401.name"
	desc = "giga_dialog.3401.desc"
	picture = GFX_evt_star_yellow
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3401.a" }
}

country_event = {
	id = giga_dialog.3402
	title = "giga_dialog.3402.name"
	desc = "giga_dialog.3402.desc"
	picture = GFX_evt_star_yellow
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3402.a" }
}

country_event = {
	id = giga_dialog.3403
	title = "giga_dialog.3403.name"
	desc = "giga_dialog.3403.desc"
	picture = GFX_evt_star_yellow
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3403.a" }
}

country_event = {
	id = giga_dialog.3404
	title = "giga_dialog.3404.name"
	desc = "giga_dialog.3404.desc"
	picture = GFX_evt_star_yellow
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3404.a" }
}

country_event = {
	id = giga_dialog.3405
	title = "giga_dialog.3405.name"
	desc = "giga_dialog.3405.desc"
	picture = GFX_evt_star_yellow
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3405.a" }
}

country_event = {
	id = giga_dialog.3406
	title = "giga_dialog.3406.name"
	desc = "giga_dialog.3406.desc"
	picture = GFX_evt_star_neutron
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3406.a" }
}

country_event = {
	id = giga_dialog.3407
	title = "giga_dialog.3407.name"
	desc = "giga_dialog.3407.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3407.a" }
}

country_event = {
	id = giga_dialog.3409
	title = "giga_dialog.3409.title"
	desc = "giga_dialog.3409.desc"
	picture = GFX_evt_exploding_planet
	show_sound = event_super_explosion
	location = event_target:giga_planet
	is_triggered_only = yes

	option = {
		name = "giga_dialog.3409.a"
	}
	immediate = {
		hidden_effect = {
			add_resource = { influence = 200 }
			event_target:giga_system = {

				# Destroy System
				every_system_megastructure = {
					limit = {
						NOR = {
							mega_blokkats_wont_stripmine = yes
							is_megastructure_type = quasi_stellar_marker_star_firing
							is_megastructure_type = quasi_stellar_marker_cluster_firing
							is_megastructure_type = blokkat_harvester_charged_mothership
							is_megastructure_type = blokkat_harvester_charged
							is_megastructure_type = blokkat_harvester_charging_up_mothership
							is_megastructure_type = blokkat_harvester_charging_up
						}
					}
					remove_megastructure = this
				}
	
				giga_remove_system_debris = yes
				every_fleet_in_system = {
					limit = { owner = { NOT = { is_immune_to_giga_hyperweapon = yes } } } 
					destroy_fleet = this 
				}
				star = {
					change_pc = pc_neutron_star
					giga_clear_mega_planet_modifiers = yes
				}
				set_asteroid_belt = {
					radius = 0
				}

				# remove planets and change types
				every_system_planet = {
					limit = { is_star = no is_astral_scar = no }
					giga_clear_mega_planet_modifiers = yes
					if = {
						limit = {
							OR = {
								is_asteroid = yes
								giga_is_habitat = yes
								is_non_giga_habitat = yes
							}
						}
						random_list = {
							0 = { modifier = { add = 1 is_asteroid = yes } }
							4 = { set_planet_flag = giga_suppressor_remove }
						}
					}
					if = { limit = { giga_is_gas_giant = yes }			set_planet_size = 5 change_pc = pc_molten }
					else_if = { limit = { is_planet_class = pc_ice_asteroid } 	set_planet_size = 1 change_pc = pc_asteroid }
					else_if = { limit = { planet_size <7 }						set_planet_size = 2 change_pc = pc_asteroid }
					else_if = { limit = { planet_size <= 10 planet_size >= 7 }	change_planet_size = -5 change_pc = pc_asteroid }
					else_if = { limit = { planet_size > 10 } 					change_planet_size = -5 }
					if = {
						limit = {
							NOR = {
								is_asteroid = yes
								giga_is_gas_giant = yes
								giga_is_molten = yes
								is_planet_class = pc_shattered
								is_planet_class = pc_broken
							}
						}
						change_pc = pc_molten
					}
				}

				# if every target is going to be removed, save one!
				if = {
					limit = {
						# if every prospective planet has a science deposit
						not = {
							any_system_planet = {
								is_star = no
								not = { has_planet_flag = giga_suppressor_remove }
							}
						}
					}
					random_system_planet = {
						limit = {
							is_star = no
							has_planet_flag = giga_suppressor_remove
						}
						remove_planet_flag = giga_suppressor_remove
					}
				}

				# set deposits
				every_system_planet = {
					limit = { 
						is_star = no 
						is_astral_scar = no
						not = { has_planet_flag = giga_suppressor_remove }
					}
					clear_deposits = yes

					random_list = {
						5 = {}
						3 = {
							add_deposit = d_physics_2
						}
						3 = {
							add_deposit = d_energy_1
						}
						4 = {
							add_deposit = d_energy_2
						}
						2 = {
							add_deposit = d_energy_3
						}
						2 = {
							add_deposit = d_iodizium_deposit_1
						}
						1 = {
							add_deposit = d_iodizium_deposit_1
							add_deposit = d_iodizium_deposit_1
						}
					}
				}

				# make sure at least one planet is receptive to iodizium
				if = {
					limit = {
						# if every prospective planet has a science deposit
						not = {
							any_system_planet = {
								is_star = no
								not = { has_planet_flag = giga_suppressor_remove }
								not = {
									has_deposit_for = shipclass_research_station
								}
							}
						}
					}
					# pick one of them and clear it to make way
					random_system_planet = {
						limit = {
							is_star = no
							not = { has_planet_flag = giga_suppressor_remove }
						}
						clear_deposits = yes
					}
				}

				# seed the non-random iodizium
				while = {
					count = 3
					random_system_planet = {
						limit = {
							is_star = no
							not = { has_planet_flag = giga_suppressor_remove }
							not = {
								has_deposit_for = shipclass_research_station
							}
						}
						add_deposit = d_iodizium_deposit_1
					}
				}

				# remove the marked planets
				every_system_planet = {
					limit = { 
						has_planet_flag = giga_suppressor_remove
					}
					giga_remove_planet = yes
				}

				# kaboom!
				create_ambient_object = {
					type = "explosion_particle_object"
					location = star
					duration = 50
					use_3d_location = yes
					entity_scale_to_size = yes
					scale = 100
				}
			}
  		}
	}
}

country_event = {
	id = giga_dialog.3410
	title = "giga_dialog.3410.title"
	desc = "giga_dialog.3410.desc"
	picture = GFX_evt_black_hole
	show_sound = event_super_explosion
	location = event_target:giga_planet
	is_triggered_only = yes

	option = {
		name = "giga_dialog.3410.a"
	}
	immediate = {
		hidden_effect = {
			add_resource = { influence = 200 }
			event_target:giga_system = {
				set_star_class = sc_black_hole
				every_system_planet = {
					if = {
						limit = { is_star = yes }
						change_pc = pc_black_hole
					}
					else_if = {
						limit = {
							NOR = {
								giga_is_gas_giant = yes
								is_asteroid = yes
								is_planet_class = pc_broken
								is_planet_class = pc_shattered
								giga_brown_dwarf = yes
								giga_habitable_structure = yes
							}
						}
						change_pc = pc_frozen
					}
				}
			}
  		}
	}
}

####################################################
### Crystal Megabore ###############################
####################################################
country_event = {
	id = giga_dialog.3501
	title = "giga_dialog.3501.name"
	desc = "giga_dialog.3501.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3501.a" }
}

country_event = {
	id = giga_dialog.3502
	title = "giga_dialog.3502.name"
	desc = "giga_dialog.3502.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3502.a" }
}

country_event = {
	id = giga_dialog.3503
	title = "giga_dialog.3503.name"
	desc = "giga_dialog.3503.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3503.a" }
}

country_event = {
	id = giga_dialog.3504
	title = "giga_dialog.3504.name"
	desc = "giga_dialog.3504.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3504.a" }
}

####################################################
### Equatorial Shipyard ############################
####################################################
country_event = {
	id = giga_dialog.3601
	title = "giga_dialog.3601.name"
	desc = "giga_dialog.3601.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3601.a" }
}

country_event = {
	id = giga_dialog.3602
	title = "giga_dialog.3602.name"
	desc = "giga_dialog.3602.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3602.a" }
}

country_event = {
	id = giga_dialog.3603
	title = "giga_dialog.3603.name"
	desc = "giga_dialog.3603.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3603.a" }
}

####################################################
### Hyperstructural Assembly Yard ##################
####################################################
country_event = {
	id = giga_dialog.3701
	title = "giga_dialog.3701.name"
	desc = "giga_dialog.3701.desc"
	picture = GFX_evt_hyper_yard
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3701.a" }
}

country_event = {
	id = giga_dialog.3702
	title = "giga_dialog.3702.name"
	desc = "giga_dialog.3702.desc"
	picture = GFX_evt_hyper_yard
	show_sound = event_dyson_sphere_build_upgrade_frame
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3702.a" }
}

country_event = {
	id = giga_dialog.3703
	title = "giga_dialog.3703.name"
	desc = "giga_dialog.3703.desc"
	picture = GFX_evt_hyper_yard
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3703.a" }
}

country_event = {
	id = giga_dialog.3704
	title = "giga_dialog.3704.name"
	desc = "giga_dialog.3704.desc"
	picture = GFX_evt_hyper_yard
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3704.a" }
}

country_event = {
	id = giga_dialog.3705
	title = "giga_dialog.3705.name"
	desc = "giga_dialog.3705.desc"
	picture = GFX_evt_hyper_yard
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3705.a" }
}

####################################################
### Terraform Barren ###############################
####################################################
country_event = {
	id = giga_dialog.3801
	title = "giga_dialog.3801.name"
	desc = "giga_dialog.3801.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3801.a" }
}

country_event = {
	id = giga_dialog.3802
	title = "giga_dialog.3802.name"
	desc = "giga_dialog.3802.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3802.a" }
}

country_event = {
	id = giga_dialog.3803
	title = "giga_dialog.3803.name"
	desc = "giga_dialog.3803.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3803.a" }
}

country_event = {
	id = giga_dialog.3804
	title = "giga_dialog.3804.name"
	desc = "giga_dialog.3804.desc"
	picture = GFX_evt_drilling_for_gas
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3804.a" }
}

####################################################
### Terraform Toxic ################################
####################################################
country_event = {
	id = giga_dialog.3901
	title = "giga_dialog.3901.name"
	desc = "giga_dialog.3901.desc"
	picture = GFX_evt_toxic
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3901.a" }
}

country_event = {
	id = giga_dialog.3902
	title = "giga_dialog.3902.name"
	desc = "giga_dialog.3902.desc"
	picture = GFX_evt_toxic
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3902.a" }
}

country_event = {
	id = giga_dialog.3903
	title = "giga_dialog.3903.name"
	desc = "giga_dialog.3903.desc"
	picture = GFX_evt_toxic
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3903.a" }
}

country_event = {
	id = giga_dialog.3904
	title = "giga_dialog.3904.name"
	desc = "giga_dialog.3904.desc"
	picture = GFX_evt_toxic
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.3904.a" }
}

####################################################
### Terraform Molten ###############################
####################################################
country_event = {
	id = giga_dialog.4001
	title = "giga_dialog.4001.name"
	desc = "giga_dialog.4001.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4001.a" }
}

country_event = {
	id = giga_dialog.4002
	title = "giga_dialog.4002.name"
	desc = "giga_dialog.4002.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4002.a" }
}

country_event = {
	id = giga_dialog.4003
	title = "giga_dialog.4003.name"
	desc = "giga_dialog.4003.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4003.a" }
}

country_event = {
	id = giga_dialog.4004
	title = "giga_dialog.4004.name"
	desc = "giga_dialog.4004.desc"
	picture = GFX_evt_molten
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = "giga_dialog.4004.a"
		custom_tooltip = "giga_dialog.4004.a.tooltip"
	}
}

####################################################
### Birch World ####################################
####################################################
# Found Galactic Core
ship_event = {
	id = giga_dialog.4101
	title = "giga_dialog.4101.name"
	desc = { trigger = { from = { has_star_flag = giga_core_01 } } text = "giga_dialog.4101.desc" }
	desc = { trigger = { from = { has_star_flag = giga_core_02 } } text = "giga_birch.300.desc" }
	picture = GFX_evt_black_hole
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = found_galactic_core } }
		from = {
			OR = {
				has_star_flag = giga_core_01
				has_star_flag = giga_core_02
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { from = { has_star_flag = giga_core_01 } }
				owner = { set_country_flag = found_birch_candidate }
			}
			else = { owner = { set_country_flag = found_qso_candidate } }
			owner = { set_country_flag = found_galactic_core }
		}
	}

	option = { name = "giga_dialog.4101.a" }
}

# Construction Site
country_event = {
	id = giga_dialog.4102
	title = "giga_dialog.4102.name"
	desc = "giga_dialog.4102.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4102.a" }
}

# P1 Complete
country_event = {
	id = giga_dialog.4103
	title = "giga_dialog.4103.name"
	desc = "giga_dialog.4103.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4103.a" }
}

# P2 Complete
country_event = {
	id = giga_dialog.4104
	title = "giga_dialog.4104.name"
	desc = "giga_dialog.4104.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4104.a" }
}

# P3 Complete
country_event = {
	id = giga_dialog.4105
	title = "giga_dialog.4105.name"
	desc = "giga_dialog.4105.desc"
	picture = GFX_evt_black_hole
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.4105.a" }
}

# 5000 used for Maginot

############################################################################################################################################################
#################################################################### Non-Megastructures ####################################################################
############################################################################################################################################################
####################################################
### Flatworld ######################################
####################################################
ship_event = {
	id = giga_dialog.10001
	title = "giga_dialog.10001.title"
	desc = "giga_dialog.10001.desc"
	is_triggered_only = yes
	picture = GFX_evt_flatearth
	show_sound = event_alien_signal
	location = from

	trigger = {
		owner = { NOT = { has_country_flag = encountered_flatworld } }
		from = { any_system_planet = { is_planet_class = pc_flat_world } }
	}

	immediate = { owner = { set_country_flag = encountered_flatworld } }
	option = { name = "giga_dialog.10001.a" }
}

####################################################
### Corinth ########################################
####################################################
ship_event = {
	id = giga_dialog.10101
	title = "giga_dialog.10101.name"
	desc = "giga_dialog.10101.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_corinth } }
		from = { has_star_flag = giga_system_two }
	}

	immediate = { owner = { set_country_flag = encountered_corinth } }
	option = {
		name = "giga_dialog.10101.a"
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @ehof_tier8researchreward
				min = @ehof_tier8researchmin
				max = @ehof_tier8researchmax
			}
		}
	}
}

####################################################
### Menagerie ######################################
####################################################
ship_event = {
	id = giga_dialog.10201
	title = "giga_dialog.10201.name"
	desc = "giga_dialog.10201.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_menagerie } }
		from = { has_star_flag = giga_system_three }
	}

	immediate = { owner = { set_country_flag = encountered_menagerie } }

	option = {
		name = "giga_dialog.10201.a"
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @ehof_tier8researchreward
				min = @ehof_tier8researchmin
				max = @ehof_tier8researchmax
			}
		}
	}
}

####################################################
### Titan's Cradle #################################
####################################################
ship_event = {
	id = giga_dialog.10301
	title = "giga_dialog.10301.name"
	desc = "giga_dialog.10301.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_titancradle } }
		from = { has_star_flag = giga_system_four }
	}

	immediate = { owner = { set_country_flag = encountered_titancradle } }

	option = {
		name = "giga_dialog.10301.a"
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @ehof_tier8researchreward
				min = @ehof_tier8researchmin
				max = @ehof_tier8researchmax
			}
		}
	}
}

####################################################
### Ancient's Forge ################################
####################################################
ship_event = {
	id = giga_dialog.10401
	title = "giga_dialog.10401.name"
	desc = "giga_dialog.10401.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ancientforge } }
		from = { has_star_flag = giga_system_five }
	}

	immediate = { owner = { set_country_flag = encountered_ancientforge } }

	option = {
		name = "giga_dialog.10401.a"
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @ehof_tier8researchreward
				min = @ehof_tier8researchmin
				max = @ehof_tier8researchmax
			}
		}
	}
}

####################################################
### Triple Dwarves #################################
####################################################
ship_event = {
	id = giga_dialog.10501
	title = "giga_dialog.10501.name"
	desc = "giga_dialog.10501.desc"
	picture = GFX_evt_browndwarf
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_tripledwarf } }
		from = { has_star_flag = brown_dwarf_system_three }
	}

	immediate = { owner = { set_country_flag = encountered_tripledwarf } }
	option = { name = "giga_dialog.10401.a" }
}

####################################################
### Pouchkinn ######################################
####################################################
ship_event = {
	id = giga_dialog.10701
	title = "giga_dialog.10701.name"
	desc = "giga_dialog.10701.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_pouchkinn_system } }
		from = { has_star_flag = pouchkinn_system }
	}

	immediate = { owner = { set_country_flag = encountered_pouchkinn_system } }
	option = { name = "giga_dialog.10701.a" }
}

####################################################
### Eeloo ##########################################
####################################################
#Eeloo surveyed
ship_event = {
	id = giga_dialog.10801
	title = "giga_dialog.10801.title"
	desc = "giga_dialog.10801.desc"
	picture = GFX_evt_frozen
	show_sound = event_alien_signal
	is_triggered_only = yes

	trigger = {
		from = { has_planet_flag = giga_eeloo }
		owner = { NOT = { has_country_flag = found_giga_eeloo } }
	}

	immediate = {
		from = { save_event_target_as = gigaeeloo }
		owner = { set_country_flag = found_giga_eeloo }
	}

	option = {
		name = giga_dialog.10801.a
		owner = {
			enable_special_project = {
				name = "GIGA_EELOO_PROJECT"
				location = from
				owner = this
			}
		}
	}
}

# Special Project Complete
country_event = {
	id = giga_dialog.10802
	title = "giga_dialog.10802.title"
	desc = "giga_dialog.10802.desc"
	picture = GFX_evt_frozen
	show_sound = event_alien_signal
	is_triggered_only = yes

	immediate = {
		create_eeloo = yes
		random_galaxy_planet = {
			limit = { has_planet_flag = giga_eeloo }
			remove_planet = yes
		}
	}
	
	option = {
		name = "giga_dialog.10802.a"
		hidden_effect = { country_event = { id = giga_dialog.10803 } }
	}
}

# Eeloo says hi
country_event = {
	id = giga_dialog.10803
	title = "giga_dialog.10803.title"
	desc = "giga_dialog.10803.desc"
	show_sound = event_alien_signal
	diplomatic = yes
	is_triggered_only = yes
	picture_event_data = { room = no_video_feed_room }

	option = {
		name = "giga_dialog.10803.a"
		hidden_effect = { country_event = { id = giga_dialog.10804 } }
	}
}

# Eeloo Awakens
country_event = {
	id = giga_dialog.10804
	title = "giga_dialog.10804.title"
	desc = "giga_dialog.10804.desc"
	picture = GFX_evt_frozen
	show_sound = event_air_raid_siren
	is_triggered_only = yes

	option = { name = "giga_dialog.10804.a" }
}

# Eeloo defeated
country_event = {
	id = giga_dialog.10805
	title = "giga_dialog.10805.title"
	desc = "giga_dialog.10805.desc"
	picture = GFX_evt_frozen
	show_sound = event_alien_signal
	is_triggered_only = yes

	trigger = {
		from = { has_country_flag = eeloowinies }
		fromfromfrom = { is_ship_size = giga_massive_planet }
	}

	immediate = {
		fromfromfrom = { solar_system = { save_event_target_as = eeloo_system } }
		create_ambient_object = { type = "eeloo_broken_object" location = fromfromfrom }
		last_created_ambient_object = {
			save_event_target_as = eeloo_broken
			set_ambient_object_flag = eeloo_broken
		}
		from = { destroy_country = yes }
	}

	option = {
		name = "giga_dialog.10805.a"
		event_target:eeloo_broken = {
			enable_special_project = {
				name = "REPAIR_EELOO_PROJECT"
				location = this
				owner = root
			}
		}
		hidden_effect = { set_country_flag = defeated_giga_eeloo }
	}

	option = {
		name = "giga_dialog.10805.b"
		add_resource = { minerals = 50000 }
		add_resource = { alloys = 30000 }
		hidden_effect = {
			set_country_flag = defeated_giga_eeloo
			event_target:eeloo_broken = { destroy_ambient_object = this }
		}
	}
}

# Ship as reward
ship_event = {
	id = giga_dialog.10806
	title = "giga_dialog.10806.title"
	desc = "giga_dialog.10806.desc"
	picture = GFX_evt_frozen
	show_sound = event_ringworld_build_complete
	is_triggered_only = yes

	immediate = {
		owner = {
			save_event_target_as = eeloo_project_owner
			set_country_flag = restored_eeloo
		}
	}

	option = {
		name = "giga_dialog.10806.a"
		create_fleet = {
			name = "Eeloo"
			effect = {
				set_owner = event_target:eeloo_project_owner
				create_ship = {
					name = Eeloo
					design = "Eeloo"
					upgradable = no
				}
				set_location = {
					target = event_target:eeloo_broken
					distance = 0
					angle = random
				}
			}
		}
		hidden_effect = { event_target:eeloo_broken = { destroy_ambient_object = this } }
	}
}

####################################################
### Psychic Beacon #################################
####################################################
country_event = {
	id = giga_dialog.11001
	title = "giga_dialog.11001.name"
	desc = "giga_dialog.11001.desc"
	picture = GFX_evt_zro_2
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11001.a" }
}

country_event = {
	id = giga_dialog.11002
	title = "giga_dialog.11002.name"
	desc = "giga_dialog.11002.desc"
	picture = GFX_evt_zro_2
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11002.a" }
}

country_event = {
	id = giga_dialog.11003
	title = "giga_dialog.11003.name"
	desc = "giga_dialog.11003.desc"
	picture = GFX_evt_zro_2
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11003.a" }
}

country_event = {
	id = giga_dialog.11004
	title = "giga_dialog.11004.name"
	desc = "giga_dialog.11004.desc"
	picture = GFX_evt_zro_2
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11004.a" }
}

####################################################
### Sentient Metal Forge ###########################
####################################################
country_event = {
	id = giga_dialog.11101
	title = "giga_dialog.11101.name"
	desc = "giga_dialog.11101.desc"
	picture = GFX_evt_megastructure_construction
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11101.a" }
}

country_event = {
	id = giga_dialog.11102
	title = "giga_dialog.11102.name"
	desc = "giga_dialog.11102.desc"
	picture = GFX_evt_sm_forge
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11102.a" }
}

country_event = {
	id = giga_dialog.11103
	title = "giga_dialog.11103.name"
	desc = "giga_dialog.11103.desc"
	picture = GFX_evt_sm_forge
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11103.a" }
}

country_event = {
	id = giga_dialog.11104
	title = "giga_dialog.11104.name"
	desc = "giga_dialog.11104.desc"
	picture = GFX_evt_sm_forge
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11104.a" }
}

country_event = {
	id = giga_dialog.11105
	title = "giga_dialog.11105.name"
	desc = "giga_dialog.11105.desc"
	picture = GFX_evt_sm_forge
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11105.a" }
}

####################################################
### Terraform Shattered ############################
####################################################
country_event = {
	id = giga_dialog.11201
	title = "giga_dialog.11201.name"
	desc = "giga_dialog.11201.desc"
	picture = GFX_evt_shattered_planet
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11201.a" }
}

country_event = {
	id = giga_dialog.11202
	title = "giga_dialog.11202.name"
	desc = "giga_dialog.11202.desc"
	picture = GFX_evt_shattered_planet
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11202.a" }
}

country_event = {
	id = giga_dialog.11203
	title = "giga_dialog.11203.name"
	desc = "giga_dialog.11203.desc"
	picture = GFX_evt_shattered_planet
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11203.a" }
}

country_event = {
	id = giga_dialog.11204
	title = "giga_dialog.11204.name"
	desc = "giga_dialog.11204.desc"
	picture = GFX_evt_shattered_planet
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11204.a" }
}

country_event = {
	id = giga_dialog.11205
	title = "giga_dialog.11205.name"
	desc = "giga_dialog.11205.desc"
	picture = GFX_evt_shattered_planet
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11205.a" }
}

####################################################
### The Vat ########################################
####################################################
country_event = {
	id = giga_dialog.11301
	title = "giga_dialog.11301.name"
	desc = "giga_dialog.11301.desc"
	picture = GFX_evt_circuitry_modification
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11301.a" }
}

country_event = {
	id = giga_dialog.11302
	title = "giga_dialog.11302.name"
	desc = "giga_dialog.11302.desc"
	picture = GFX_evt_circuitry_modification
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11302.a" }
}

country_event = {
	id = giga_dialog.11303
	title = "giga_dialog.11303.name"
	desc = "giga_dialog.11303.desc"
	picture = GFX_evt_circuitry_modification
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11303.a" }
}

country_event = {
	id = giga_dialog.11304
	title = "giga_dialog.11304.name"
	desc = "giga_dialog.11304.desc"
	picture = GFX_evt_circuitry_modification
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11304.a" }
}

country_event = {
	id = giga_dialog.11305
	title = "giga_dialog.11305.name"
	desc = "giga_dialog.11305.desc"
	picture = GFX_evt_circuitry_modification
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.11305.a" }
}


####################################################
### Planetary Dockyard #############################
####################################################
country_event = {
	id = giga_dialog.13400
	title = "giga_dialog.13400.name"
	desc = "giga_dialog.13400.desc"
	picture = GFX_evt_cargoship_caravan
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.13400.a" }
}

country_event = {
	id = giga_dialog.13401
	title = "giga_dialog.13401.name"
	desc = "giga_dialog.13401.desc"
	picture = GFX_evt_cargoship_caravan
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_system
	is_triggered_only = yes
	option = { name = "giga_dialog.13401.a" }
}

country_event = {
	id = giga_dialog.13402
	title = "giga_dialog.13402.name"
	desc = "giga_dialog.13402.desc"
	picture = GFX_evt_fleet_neutral
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_system
	is_triggered_only = yes
	after = { clear_global_event_target = giga_system }
	option = { name = "giga_dialog.13402.a" }
}

#Mechanics
country_event = {
	id = giga_dialog.13403
	title = "giga_dialog.13403.name"
	desc = "defense_nexus_explanation_text"
	picture = GFX_evt_fleet_neutral
	show_sound = event_sensor_ping
	is_triggered_only = yes
	option = {
		name = "giga_dialog.13403.a"
		hidden_effect = {
			remove_country_flag = giga_defense_nexus_explain_popup
		} 
	}
}

country_event = {
	id = giga_dialog.13404
	title = "giga_dialog.13404.name"
	desc = "giga_dialog.13404.desc"
	picture = GFX_evt_cargoship_caravan
	show_sound = event_ringworld_build_upgrade
	location = event_target:giga_system
	is_triggered_only = yes
	after = { clear_global_event_target = giga_system }
	option = { name = "giga_dialog.13404.a" }
}

####################################################
### Orbital Ring ##################################
####################################################
country_event = {
	id = giga_dialog.13500
	title = "giga_dialog.13500.name"
	desc = "giga_dialog.13500.desc"
	picture = GFX_evt_orbital_ring
	show_sound = event_construction
	location = event_target:orbital_ring_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.13500.a" }
}

#Crystal drill volcano
planet_event = {
	id = giga_dialog.13501
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_colony = yes
		exists = owner
		exists = orbital_defence
		orbital_defence = { starbase = { has_starbase_building = ring_giga_crystals_hub } }
	}

	immediate = {
		random_list = {
			2 = {
				add_blocker = { type = d_active_volcano }
				add_planet_devastation = 7
			}
			1 = {
				add_blocker = { type = d_active_volcano }
				add_blocker = { type = d_active_volcano }
				add_planet_devastation = 14
			}
		}
		planet_event = { id = giga_dialog.13501 days = 2700 random = 3600 }
	}
}

#Motes sinkhole
planet_event = {
	id = giga_dialog.13502
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_colony = yes
		exists = owner
		exists = orbital_defence
		orbital_defence = { starbase = { has_starbase_building = ring_giga_motes_hub } }
	}

	immediate = {
		random_list = {
			2 = {
				add_blocker = { type = d_deep_sinkhole }
				add_blocker = { type = d_deep_sinkhole }
				add_planet_devastation = 7
			}
			1 = {
				add_blocker = { type = d_deep_sinkhole }
				add_blocker = { type = d_deep_sinkhole }
				add_blocker = { type = d_deep_sinkhole }
				add_blocker = { type = d_deep_sinkhole }
				add_planet_devastation = 14
			}
		}
		planet_event = { id = giga_dialog.13502 days = 2700 random = 3600 }
	}
}

#Gasses swamp
planet_event = {
	id = giga_dialog.13503
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_colony = yes
		exists = owner
		exists = orbital_defence
		orbital_defence = { starbase = { has_starbase_building = ring_giga_gas_hub } }
	}

	immediate = {
		random_list = {
			2 = {
				add_blocker = { type = d_noxious_swamp }
				add_blocker = { type = d_noxious_swamp }
				add_planet_devastation = 7
			}
			1 = {
				add_blocker = { type = d_noxious_swamp }
				add_blocker = { type = d_noxious_swamp }
				add_blocker = { type = d_noxious_swamp }
				add_blocker = { type = d_noxious_swamp }
				add_planet_devastation = 14
			}
		}
		planet_event = { id = giga_dialog.13503 days = 2700 random = 3600 }
	}
}

####################################################
### Stellar Ring Habitat ###########################
####################################################
country_event = {
	id = giga_dialog.13601
	title = "giga_dialog.13601.name"
	desc = "giga_dialog.13601.desc"
	picture = GFX_evt_megastructure_construction
	show_sound = event_dyson_sphere_build_start
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.13601.a" }
}

country_event = {
	id = giga_dialog.13602
	title = "giga_dialog.13602.name"
	desc = "giga_dialog.13602.desc"
	picture = GFX_evt_mining_station
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = "giga_dialog.13602.a" }
}

country_event = {
	id = giga_dialog.13603
	title = "giga_dialog.13603.name"
	desc = "giga_dialog.13603.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = giga_dialog.13604
	title = "giga_dialog.13604.name"
	desc = {
		trigger = {
			not = { has_civic = civic_machine_servitor }
		}
		text = "giga_dialog.13604.desc"
	}
	desc = {
		trigger = {
			has_civic = civic_machine_servitor
		}
		text = "giga_dialog.13604.desc.servitor"
	}
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = { default_hide_option = yes name = MARVELOUS }
	option = { 
		trigger = {
			has_civic = civic_machine_servitor
		} 
		name = giga_dialog.13604.servitor 
	}
}

# Ruined orbital
ship_event = {
	id = giga_dialog.13605
	title = "giga_dialog.13605.name"
	desc = "giga_dialog.13605.desc"
	picture = GFX_evt_space_debris
	show_sound = event_radio_chatter
	location = from
	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_country_flag = encountered_ruined_orbital } }
		from = { any_system_megastructure = { is_megastructure_type = stellar_ring_habitat_ruined } }
	}

	immediate = { owner = { set_country_flag = encountered_ruined_orbital } }
	option = { default_hide_option = yes name = FASCINATING }
	option = { 
		trigger = {
			owner = {
				or = {
					check_variable = {
						which = giga_current_stellar_ring
						value > 0
					}
					any_planet_within_border = {
						is_planet_class = pc_giga_orbital
					}
				}
			}
		}
		name = "giga_dialog.13605.a" 
	}
}

# Repaired orbital
country_event = {
	id = giga_dialog.13606
	title = "giga_dialog.13606.name"
	desc = "giga_dialog.13606.desc"
	picture = GFX_evt_ringworld
	show_sound = event_dyson_sphere_build_complete
	location = event_target:giga_planet
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
	}
}
#
country_event = {
	id = giga_dialog.13701
	title = "giga_dialog.13701.name"
	desc = "giga_dialog.13701.desc"
	picture = GFX_evt_manage_tutorial
	show_sound = event_dyson_sphere_build_complete
	location = from.planet
	is_triggered_only = yes
	trigger = { 
		from = { giga_is_manageable_mega = yes } 
		NOT = { has_country_flag = mega_manage_tutorial_shown }
	}
	immediate = {
		set_country_flag = mega_manage_tutorial_shown
	}
	option = { default_hide_option = yes name = OK }
}
#################################################
### Atmospheric Storm Observatory ###############
#################################################
# #stage 1
# country_event = {
# 	id = giga_dialog.13801
# 	title = "giga_dialog.13801.name"
# 	desc = "giga_dialog.13801.desc"
# 	picture = GFX_evt_cybernetics
# 	show_sound = event_dyson_sphere_build_start
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.13801.a" }
# }

# #stage 2
# country_event = {
# 	id = giga_dialog.13802
# 	title = "giga_dialog.13802.name"
# 	desc = "giga_dialog.13802.desc"
# 	picture = GFX_evt_cybernetics
# 	show_sound = event_dyson_sphere_build_complete
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.13802.a" }
# }

# #stage 3
# country_event = {
# 	id = giga_dialog.13803
# 	title = "giga_dialog.13803.name"
# 	desc = "giga_dialog.13803.desc"
# 	picture = GFX_evt_cybernetics
# 	show_sound = event_dyson_sphere_build_complete
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.13803.a" }
# }
# #stage 4
# country_event = {
# 	id = giga_dialog.13804
# 	title = "giga_dialog.13804.name"
# 	desc = "giga_dialog.13804.desc"
# 	picture = GFX_evt_cybernetics
# 	show_sound = event_dyson_sphere_build_complete
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = { name = "giga_dialog.13804.a" }
# }

# # Ruined test site
# ship_event = {
# 	id = giga_dialog.13805
# 	title = "giga_dialog.13805.name"
# 	desc = "giga_dialog.13805.desc"
# 	picture = GFX_evt_space_debris
# 	show_sound = event_radio_chatter
# 	location = from
# 	is_triggered_only = yes

# 	trigger = {
# 		owner = { NOT = { has_country_flag = encountered_ruined_engineeringsite } }
# 		from = { any_system_megastructure = { is_megastructure_type = macro_test_site_ruined } }
# 	}

# 	immediate = { owner = { set_country_flag = encountered_ruined_engineeringsite } }
# 	option = { name = "giga_dialog.13805.a" }
# }

# #Repaired test site
# country_event = {
# 	id = giga_dialog.13806
# 	title = "giga_dialog.13806.name"
# 	desc = "giga_dialog.13806.desc"
# 	picture = GFX_evt_cybernetics
# 	show_sound = event_dyson_sphere_build_complete
# 	location = event_target:giga_planet
# 	is_triggered_only = yes
# 	option = {
# 		name = "giga_dialog.13806.a"
# 		hidden_effect = { set_timed_country_flag = { flag = giga_repaired_mega_no_dialog days = 10 } }
# 	}
# }

# Dyson Sphere partially completed (50%)
country_event = {
	id = giga_dialog.40041
	title = "utopia.4004.name"
	desc = "giga_dialog.40041.desc"
	picture = GFX_evt_dyson_sphere
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = fromfrom
	is_triggered_only = yes

	trigger = {
		from = {
			OR = {
				is_megastructure_type = dyson_sphere_3
				is_megastructure_type = dyson_sphere_3_a_star
				is_megastructure_type = dyson_sphere_3_b_star
				is_megastructure_type = dyson_sphere_3_f_star
				is_megastructure_type = dyson_sphere_3_g_star
				is_megastructure_type = dyson_sphere_3_k_star
				is_megastructure_type = dyson_sphere_3_m_giant_star
				is_megastructure_type = dyson_sphere_3_m_star
			}
		}
	}

	option = { name = "utopia.4004.a" }
}
# Dyson Sphere partially completed (75%)
country_event = {
	id = giga_dialog.40042
	title = "utopia.4004.name"
	desc = "giga_dialog.40042.desc"
	picture = GFX_evt_dyson_sphere
	show_sound = event_dyson_sphere_build_upgrade_panel
	location = fromfrom
	is_triggered_only = yes

	trigger = {
		from = {
			OR = {
				is_megastructure_type = dyson_sphere_4
				is_megastructure_type = dyson_sphere_4_a_star
				is_megastructure_type = dyson_sphere_4_b_star
				is_megastructure_type = dyson_sphere_4_f_star
				is_megastructure_type = dyson_sphere_4_g_star
				is_megastructure_type = dyson_sphere_4_k_star
				is_megastructure_type = dyson_sphere_4_m_giant_star
				is_megastructure_type = dyson_sphere_4_m_star
			}
		}
	}

	option = { name = "utopia.4004.a" }
}