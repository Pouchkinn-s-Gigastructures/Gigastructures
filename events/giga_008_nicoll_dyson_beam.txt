namespace = giga_ndb

# Change states
country_event = {
	id = giga_ndb.001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# Coming off cooldown
		if = {
			limit = {
				any_owned_megastructure = {
					OR = {
						is_megastructure_type = nicoll_beam_recharge_after_system
						is_megastructure_type = nicoll_beam_recharge_after_crack
						is_megastructure_type = nicoll_beam_recharge_after_melt
						is_megastructure_type = nicoll_beam_recharge_after_barren
						is_megastructure_type = nicoll_beam_recharge_after_damage
						is_megastructure_type = nicoll_beam_4
					}
				}
			}
			random_owned_megastructure = {
				limit = {
					OR = {
						is_megastructure_type = nicoll_beam_recharge_after_system
						is_megastructure_type = nicoll_beam_recharge_after_crack
						is_megastructure_type = nicoll_beam_recharge_after_melt
						is_megastructure_type = nicoll_beam_recharge_after_barren
						is_megastructure_type = nicoll_beam_recharge_after_damage
						is_megastructure_type = nicoll_beam_4
					}
				}
				remove_megastructure = this
				solar_system = {
					spawn_megastructure = {
						type = nicoll_beam_ready
						owner = root
					}
				}
			}
		}
		# Cancel targetting
		else_if = {
			limit = { any_owned_megastructure = { is_megastructure_type = nicoll_beam_menu } }
			random_owned_megastructure = {
				limit = { is_megastructure_type = nicoll_beam_menu }
				upgrade_megastructure_to = nicoll_beam_ready
				finish_upgrade = yes
			}
		}
		# On cooldown
		else_if = {
			limit = { any_owned_megastructure = { is_megastructure_type = nicoll_beam_cooldown } }
			random_owned_megastructure = {
				limit = { is_megastructure_type = nicoll_beam_cooldown }
				if = {		limit = { root = { has_country_flag = giga_ndb_crack } }			upgrade_megastructure_to = nicoll_beam_recharge_after_crack }
				else_if = {	limit = { root = { has_country_flag = giga_ndb_melt } }				upgrade_megastructure_to = nicoll_beam_recharge_after_melt }
				else_if = {	limit = { root = { has_country_flag = giga_ndb_barren } }			upgrade_megastructure_to = nicoll_beam_recharge_after_barren }
				else_if = {	limit = { root = { has_country_flag = giga_ndb_damage } }			upgrade_megastructure_to = nicoll_beam_recharge_after_damage }
				else_if = {	limit = { root = { has_country_flag = giga_ndb_firing_system } }	upgrade_megastructure_to = nicoll_beam_recharge_after_system }
			}
		}
	}
}

country_event = {
	id = giga_ndb.002
	title = "giga_ndb.002.name"
	desc = "giga_ndb.002.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		remove_country_flag = giga_ndb_hostile
		remove_country_flag = giga_ndb_neutral
		remove_country_flag = giga_ndb_friendly
	}

	# Hostile
	option = {
		name = "giga_ndb.002.a"
		custom_gui = "ehof_mainui_option_big"
		allow = {
			custom_tooltip = {
				fail_text = "must_be_at_war"
				any_country = {
					is_valid_ndb_hostile_target_country = yes
				}
			}
		}
		hidden_effect = {
			set_country_flag = giga_ndb_hostile
			country_event = { id = giga_ndb.003 }
		}
	}

	# Neutral
	option = {
		name = "giga_ndb.002.b"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = {
			set_country_flag = giga_ndb_neutral
			country_event = { id = giga_ndb.003 }
		}
	}

	# Friendly
	option = {
		name = "giga_ndb.002.c"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = {
			set_country_flag = giga_ndb_friendly
			country_event = { id = giga_ndb.003 }
		}
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# What country?
country_event = {
	id = giga_ndb.003
	title = "giga_ndb.002.name"
	desc = "giga_ndb.003.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		remove_country_flag = giga_ndb_no_owner

		every_country = {
			limit = { has_country_flag = giga_ndb_target_country@root }
			remove_country_flag = giga_ndb_target_country@root
		}

		giga_event_target_list_clear = yes

		if = {
			limit = { has_country_flag = giga_ndb_hostile }
			every_country = {
				limit = {
					is_valid_ndb_hostile_target_country  = yes
				}
				giga_event_target_list_save = yes
			}
		}
		else_if = {
			limit = { has_country_flag = giga_ndb_neutral }
			every_country = {
				limit = {
					is_valid_ndb_neutral_target_country = yes
				}
				giga_event_target_list_save = yes
			}
		}
		else_if = {
			limit = { has_country_flag = giga_ndb_friendly }
			every_country = {
				limit = {
					is_valid_ndb_friendly_target_country = yes
				}
				giga_event_target_list_save = yes
			}
		}
	}

	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_001 = yes } name = "etl_001" hidden_effect = { event_target:etl_001 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_002 = yes } name = "etl_002" hidden_effect = { event_target:etl_002 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_003 = yes } name = "etl_003" hidden_effect = { event_target:etl_003 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_004 = yes } name = "etl_004" hidden_effect = { event_target:etl_004 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_005 = yes } name = "etl_005" hidden_effect = { event_target:etl_005 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_006 = yes } name = "etl_006" hidden_effect = { event_target:etl_006 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_007 = yes } name = "etl_007" hidden_effect = { event_target:etl_007 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_008 = yes } name = "etl_008" hidden_effect = { event_target:etl_008 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_009 = yes } name = "etl_009" hidden_effect = { event_target:etl_009 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_010 = yes } name = "etl_010" hidden_effect = { event_target:etl_010 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_011 = yes } name = "etl_011" hidden_effect = { event_target:etl_011 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_012 = yes } name = "etl_012" hidden_effect = { event_target:etl_012 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_013 = yes } name = "etl_013" hidden_effect = { event_target:etl_013 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_014 = yes } name = "etl_014" hidden_effect = { event_target:etl_014 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_015 = yes } name = "etl_015" hidden_effect = { event_target:etl_015 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_016 = yes } name = "etl_016" hidden_effect = { event_target:etl_016 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_017 = yes } name = "etl_017" hidden_effect = { event_target:etl_017 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_018 = yes } name = "etl_018" hidden_effect = { event_target:etl_018 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_019 = yes } name = "etl_019" hidden_effect = { event_target:etl_019 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_020 = yes } name = "etl_020" hidden_effect = { event_target:etl_020 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_021 = yes } name = "etl_021" hidden_effect = { event_target:etl_021 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_022 = yes } name = "etl_022" hidden_effect = { event_target:etl_022 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_023 = yes } name = "etl_023" hidden_effect = { event_target:etl_023 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_024 = yes } name = "etl_024" hidden_effect = { event_target:etl_024 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_025 = yes } name = "etl_025" hidden_effect = { event_target:etl_025 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_026 = yes } name = "etl_026" hidden_effect = { event_target:etl_026 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_027 = yes } name = "etl_027" hidden_effect = { event_target:etl_027 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_028 = yes } name = "etl_028" hidden_effect = { event_target:etl_028 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_029 = yes } name = "etl_029" hidden_effect = { event_target:etl_029 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_030 = yes } name = "etl_030" hidden_effect = { event_target:etl_030 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_031 = yes } name = "etl_031" hidden_effect = { event_target:etl_031 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_032 = yes } name = "etl_032" hidden_effect = { event_target:etl_032 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_033 = yes } name = "etl_033" hidden_effect = { event_target:etl_033 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_034 = yes } name = "etl_034" hidden_effect = { event_target:etl_034 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_035 = yes } name = "etl_035" hidden_effect = { event_target:etl_035 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_036 = yes } name = "etl_036" hidden_effect = { event_target:etl_036 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_037 = yes } name = "etl_037" hidden_effect = { event_target:etl_037 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_038 = yes } name = "etl_038" hidden_effect = { event_target:etl_038 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_039 = yes } name = "etl_039" hidden_effect = { event_target:etl_039 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_040 = yes } name = "etl_040" hidden_effect = { event_target:etl_040 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_041 = yes } name = "etl_041" hidden_effect = { event_target:etl_041 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_042 = yes } name = "etl_042" hidden_effect = { event_target:etl_042 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_043 = yes } name = "etl_043" hidden_effect = { event_target:etl_043 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_044 = yes } name = "etl_044" hidden_effect = { event_target:etl_044 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_045 = yes } name = "etl_045" hidden_effect = { event_target:etl_045 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_046 = yes } name = "etl_046" hidden_effect = { event_target:etl_046 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_047 = yes } name = "etl_047" hidden_effect = { event_target:etl_047 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_048 = yes } name = "etl_048" hidden_effect = { event_target:etl_048 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_049 = yes } name = "etl_049" hidden_effect = { event_target:etl_049 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_050 = yes } name = "etl_050" hidden_effect = { event_target:etl_050 = { set_country_flag = giga_ndb_target_country@root } country_event = { id = giga_ndb.004 } } }

	option = {
		custom_gui = "ehof_mainui_option_big"
		trigger = { has_country_flag = giga_ndb_neutral }
		name = "giga_ndb.003.a"	# No country (empty space)
		hidden_effect = {
			set_country_flag = giga_ndb_no_owner
			country_event = { id = giga_ndb.004 }
		}
	}

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.003 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.002 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# Star type?
country_event = {
	id = giga_ndb.004
	title = "giga_ndb.002.name"
	desc = "giga_ndb.004.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
ndb_new_remove_old_flags = yes
		ndb_new_setup_owner = yes
	}

	option = {
		name = "ehof_category_06"
		custom_gui = "ehof_mainui_option_big"
		trigger = {
ndb_new_pick_target_type_1 = {
	condition = is_binary
}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_binary
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "ehof_category_07"
		custom_gui = "ehof_mainui_option_big"
		trigger = {
			ndb_new_pick_target_type_1 = {
				condition = is_trinary
			}

		}
		hidden_effect = {
			set_country_flag = ndb_target_is_trinary
			country_event = { id = giga_ndb.005 }
		}
	}

	#############################
	# Dwarves ###################
	#############################
	option = {
		custom_gui = "ehof_mainui_miniheader"
		trigger = {
			ndb_new_pick_target_type_1 = {
				condition = ehof_category_dwarves
			}

		}
		name = "ehof_category_02"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	option = {
		name = "sc_f"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_f
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_f
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_g"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_g
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_g
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_k"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_k
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_k
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_m"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

		ndb_new_pick_target_type_1 = {
			condition = is_star_class_sc_m
		}
		
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_m
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_d"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_d
			}

		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_d
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_t"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_t
				condition2 = is_star_class_sc_l
				condition3 = is_star_class_sc_y
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_t
			country_event = { id = giga_ndb.005 }
		}
	}

	#############################
	# Stars #####################
	#############################
	option = {
		custom_gui = "ehof_mainui_miniheader"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = ehof_category_stars
			}
		}
		name = "ehof_category_03"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	option = {
		name = "sc_b"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_b

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_b
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_a"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_a

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_a
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_o"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_o

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_o
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_p_purple"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_p_purple
				condition2 = is_star_class_sc_p_green
				condition3 = is_star_class_sc_p_red
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_p_purple
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_lbv_blue"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_lbv_blue
				condition2 = is_star_class_sc_lbv_green
				condition3 = is_star_class_sc_lbv_red
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_lbv_blue
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_tt_red"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
		
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_tt_orange
				condition2 = is_star_class_sc_tt_red
				condition3 = is_star_class_sc_tt_white
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_tt_red
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_w_azure"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
		
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_w_azure
				condition2 = is_star_class_sc_w_green
				condition3 = is_star_class_sc_w_purple
				condition4 = is_star_class_sc_w_red
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_w_azure
			country_event = { id = giga_ndb.005 }
		}
	}

	#############################
	# Giants ####################
	#############################
	option = {
		custom_gui = "ehof_mainui_miniheader"
		trigger = {
		
			ndb_new_pick_target_type_1 = {
				condition = ehof_category_giants
				
			}
		}
		name = "ehof_category_04"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	option = {
		name = "sc_m_giant"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
	
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_m_giant

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_m_giant
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_k_giant"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
		
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_k_giant

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_k_giant
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_g_giant"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
	
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_g_giant

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_g_giant
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_o_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_o_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_o_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_b_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
			

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_b_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_b_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_a_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_a_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_a_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_f_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_f_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_f_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_g_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_g_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_g_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_k_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_k_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_k_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_m_super"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_m_super

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_m_super
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_o_hyper"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_o_hyper

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_o_hyper
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_m_hyper"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_m_hyper

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_m_hyper
			country_event = { id = giga_ndb.005 }
		}
	}

	#############################
	# Stellar Remnants ##########
	#############################
	option = {
		custom_gui = "ehof_mainui_miniheader"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = ehof_category_remnants

			}
		}
		name = "ehof_category_05"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	option = {
		name = "sc_neutron_star"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_neutron_star

			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_neutron_star
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_pulsar"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_pulsar
	
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_pulsar
			country_event = { id = giga_ndb.005 }
		}
	}

	# option = {
	# 	name = "sc_black_hole"
	# 	custom_gui = "ehof_mainui_option_small"
	# 	trigger = {
	# 		OR = {
	# 			AND = {
	# 				exists = event_target:giga_ndb_target_country
	# 				event_target:giga_ndb_target_country = {
	# 					OR = {
	# 						AND = {
	# 							NOT = { is_country_type = primitive }
	# 							any_system_within_border = {
	# 								ndb_can_target_system = yes
	# 								OR = {
	# 									is_star_class = sc_black_hole
	# 									is_star_class = sc_birch
	# 									is_star_class = sc_ehof_black_hole
	# 								}
	# 							}
	# 						}
	# 						AND = {
	# 							is_country_type = primitive
	# 							any_owned_planet = {
	# 								exists = solar_system
	# 								solar_system = {
	# 									ndb_can_target_system = yes
	# 									OR = {
	# 										is_star_class = sc_black_hole
	# 										is_star_class = sc_birch
	# 										is_star_class = sc_ehof_black_hole
	# 									}
	# 								}
	# 							}
	# 						}
	# 					}
	# 				}
	# 			}
	# 			AND = {
	# 				has_country_flag = giga_ndb_no_owner
	# 				any_system = {
	# 					ndb_can_target_system = yes
	# 					NOT = { exists = owner }
	# 					OR = {
	# 						is_star_class = sc_black_hole
	# 						is_star_class = sc_birch
	# 						is_star_class = sc_ehof_black_hole
	# 					}
	# 				}
	# 			}
	# 		}
	# 	}
	# 	hidden_effect = {
	# 		set_country_flag = ndb_target_sc_black_hole
	# 		country_event = { id = giga_ndb.005 }
	# 	}
	# }

	option = {
		name = "sc_microquasar_1"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_quasar
				condition2 = is_star_class_sc_microquasar_1
				condition3 = is_star_class_sc_microquasar_2
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_microquasar_1
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_collapsar"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_collapsar
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_collapsar
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_magnetar"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_magnetar
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_magnetar
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_protostar"
		custom_gui = "ehof_mainui_option_small"
		trigger = {
	
			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_protostar
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_protostar
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_ae"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_ae
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_ae
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_s_giant"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_s_giant
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_s_giant
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_c_giant"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_c_giant
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_c_giant
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		name = "sc_nova_1"
		custom_gui = "ehof_mainui_option_small"
		trigger = {

			ndb_new_pick_target_type_1 = {
				condition = is_star_class_sc_nova_1
				condition2 = is_star_class_sc_nova_2
			}
		}
		hidden_effect = {
			set_country_flag = ndb_target_is_star_class_sc_nova_1
			country_event = { id = giga_ndb.005 }
		}
	}

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.003 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# Which specific system?
country_event = {
	id = giga_ndb.005
	title = "giga_ndb.002.name"
	desc = "giga_ndb.005.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		every_system = {
			limit = { has_star_flag = giga_ndb_target_system@root }
			remove_star_flag = giga_ndb_target_system@root
		}
		giga_event_target_list_clear = yes
		switch = {
			trigger = has_country_flag
			
		
		ndb_target_is_binary = {
			

			ndb_new_option_internal_if = {
				condition = is_binary
			}
		}
		ndb_target_is_trinary = {
			

			ndb_new_option_internal_if = {
				condition = is_trinary
				
			}
		}
		ndb_target_is_star_class_sc_f = {

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_f
			}
		}
		ndb_target_is_star_class_sc_g = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_g
			}
		}
		ndb_target_is_star_class_sc_k  = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_k
			}
		}
		ndb_target_is_star_class_sc_m = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_m
			}
		}
		ndb_target_is_star_class_sc_d = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_d
			}
		}
		ndb_target_is_star_class_sc_t = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_t
				condition2 = is_star_class_sc_l
				condition3 = is_star_class_sc_y
			}
		}
		ndb_target_is_star_class_sc_b = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_b
		
			}
		}
		ndb_target_is_star_class_sc_a = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_a
			}
		}
		ndb_target_is_star_class_sc_o = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_o
			}
		}
		ndb_target_is_star_class_sc_p_purple = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_p_purple
				condition2 = is_star_class_sc_p_green
				condition3 = is_star_class_sc_p_red
			}
		}
		ndb_target_is_star_class_sc_lbv_blue = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_lbv_blue
				condition2 = is_star_class_sc_lbv_green
				condition3 = is_star_class_sc_lbv_red
			}
		}
		ndb_target_is_star_class_sc_tt_red = {
	

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_tt_red
				condition2 = is_star_class_sc_tt_orange
				condition3 = is_star_class_sc_tt_white
			}
		}
		ndb_target_is_star_class_sc_w_azure = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_w_azure
				condition2 = is_star_class_sc_w_green
				condition3 = is_star_class_sc_w_purple
				condition4 = is_star_class_sc_w_red
			}
		}
		ndb_target_is_star_class_sc_m_giant = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_m_giant
	
			}
		}
		ndb_target_is_star_class_sc_k_giant = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_k_giant
			}
		}
		ndb_target_is_star_class_sc_g_giant = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_g_giant
			}
		}
		ndb_target_is_star_class_sc_o_super = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_o_super
			}
		}
		 ndb_target_is_star_class_sc_b_super = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_b_super
			}
		}
		ndb_target_is_star_class_sc_a_super = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_a_super
			}
		}
		ndb_target_is_star_class_sc_f_super = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_f_super
			}
		}
		ndb_target_is_star_class_sc_g_super = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_g_super
			}
		}
		ndb_target_is_star_class_sc_k_super = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_k_super
			}
		}
		ndb_target_is_star_class_sc_m_super = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_m_super
			}
		}
		ndb_target_is_star_class_sc_o_hyper = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_o_hyper
			}
		}
		ndb_target_is_star_class_sc_m_hyper = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_m_hyper
			}
		}
		ndb_target_is_star_class_sc_neutron_star = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_neutron_star
			}
		}
		ndb_target_is_star_class_sc_pulsar = {

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_pulsar
			}
		}
		ndb_target_sc_black_hole = {

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_black_hole
				condition2 = is_star_class_sc_birch
				condition3 = is_star_class_sc_ehof_black_hole
			}
		}
		ndb_target_is_star_class_sc_microquasar_1 = {
		

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_quasar
				condition2 = is_star_class_sc_microquasar_1
				condition3 = is_star_class_sc_microquasar_2
			}
		}
		ndb_target_is_star_class_sc_collapsar = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_collapsar
			}
		}
		ndb_target_is_star_class_sc_magnetar = {
			
	
			ndb_new_option_internal_if = {
				condition = is_star_class_sc_magnetar
			}
		}
		ndb_target_is_star_class_sc_protostar = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_protostar
			}
		}
		ndb_target_is_star_class_sc_ae = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_ae
			}
		}
		ndb_target_is_star_class_sc_s_giant = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_s_giant
			}
		}
		ndb_target_is_star_class_sc_c_giant = {
	

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_c_giant
			}
		}
		ndb_target_is_star_class_sc_nova_1 = {
			

			ndb_new_option_internal_if = {
				condition = is_star_class_sc_nova_1
				condition2 = is_star_class_sc_nova_2
			}
		}
	}
	}

	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_001 = yes } name = "etl_001" hidden_effect = { event_target:etl_001 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_002 = yes } name = "etl_002" hidden_effect = { event_target:etl_002 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_003 = yes } name = "etl_003" hidden_effect = { event_target:etl_003 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_004 = yes } name = "etl_004" hidden_effect = { event_target:etl_004 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_005 = yes } name = "etl_005" hidden_effect = { event_target:etl_005 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_006 = yes } name = "etl_006" hidden_effect = { event_target:etl_006 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_007 = yes } name = "etl_007" hidden_effect = { event_target:etl_007 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_008 = yes } name = "etl_008" hidden_effect = { event_target:etl_008 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_009 = yes } name = "etl_009" hidden_effect = { event_target:etl_009 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_010 = yes } name = "etl_010" hidden_effect = { event_target:etl_010 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_011 = yes } name = "etl_011" hidden_effect = { event_target:etl_011 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_012 = yes } name = "etl_012" hidden_effect = { event_target:etl_012 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_013 = yes } name = "etl_013" hidden_effect = { event_target:etl_013 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_014 = yes } name = "etl_014" hidden_effect = { event_target:etl_014 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_015 = yes } name = "etl_015" hidden_effect = { event_target:etl_015 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_016 = yes } name = "etl_016" hidden_effect = { event_target:etl_016 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_017 = yes } name = "etl_017" hidden_effect = { event_target:etl_017 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_018 = yes } name = "etl_018" hidden_effect = { event_target:etl_018 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_019 = yes } name = "etl_019" hidden_effect = { event_target:etl_019 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_020 = yes } name = "etl_020" hidden_effect = { event_target:etl_020 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_021 = yes } name = "etl_021" hidden_effect = { event_target:etl_021 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_022 = yes } name = "etl_022" hidden_effect = { event_target:etl_022 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_023 = yes } name = "etl_023" hidden_effect = { event_target:etl_023 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_024 = yes } name = "etl_024" hidden_effect = { event_target:etl_024 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_025 = yes } name = "etl_025" hidden_effect = { event_target:etl_025 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_026 = yes } name = "etl_026" hidden_effect = { event_target:etl_026 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_027 = yes } name = "etl_027" hidden_effect = { event_target:etl_027 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_028 = yes } name = "etl_028" hidden_effect = { event_target:etl_028 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_029 = yes } name = "etl_029" hidden_effect = { event_target:etl_029 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_030 = yes } name = "etl_030" hidden_effect = { event_target:etl_030 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_031 = yes } name = "etl_031" hidden_effect = { event_target:etl_031 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_032 = yes } name = "etl_032" hidden_effect = { event_target:etl_032 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_033 = yes } name = "etl_033" hidden_effect = { event_target:etl_033 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_034 = yes } name = "etl_034" hidden_effect = { event_target:etl_034 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_035 = yes } name = "etl_035" hidden_effect = { event_target:etl_035 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_036 = yes } name = "etl_036" hidden_effect = { event_target:etl_036 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_037 = yes } name = "etl_037" hidden_effect = { event_target:etl_037 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_038 = yes } name = "etl_038" hidden_effect = { event_target:etl_038 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_039 = yes } name = "etl_039" hidden_effect = { event_target:etl_039 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_040 = yes } name = "etl_040" hidden_effect = { event_target:etl_040 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_041 = yes } name = "etl_041" hidden_effect = { event_target:etl_041 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_042 = yes } name = "etl_042" hidden_effect = { event_target:etl_042 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_043 = yes } name = "etl_043" hidden_effect = { event_target:etl_043 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_044 = yes } name = "etl_044" hidden_effect = { event_target:etl_044 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_045 = yes } name = "etl_045" hidden_effect = { event_target:etl_045 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_046 = yes } name = "etl_046" hidden_effect = { event_target:etl_046 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_047 = yes } name = "etl_047" hidden_effect = { event_target:etl_047 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_048 = yes } name = "etl_048" hidden_effect = { event_target:etl_048 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_049 = yes } name = "etl_049" hidden_effect = { event_target:etl_049 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_050 = yes } name = "etl_050" hidden_effect = { event_target:etl_050 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_051 = yes } name = "etl_051" hidden_effect = { event_target:etl_051 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_052 = yes } name = "etl_052" hidden_effect = { event_target:etl_052 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_053 = yes } name = "etl_053" hidden_effect = { event_target:etl_053 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_054 = yes } name = "etl_054" hidden_effect = { event_target:etl_054 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_055 = yes } name = "etl_055" hidden_effect = { event_target:etl_055 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_056 = yes } name = "etl_056" hidden_effect = { event_target:etl_056 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_057 = yes } name = "etl_057" hidden_effect = { event_target:etl_057 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_058 = yes } name = "etl_058" hidden_effect = { event_target:etl_058 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_059 = yes } name = "etl_059" hidden_effect = { event_target:etl_059 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_060 = yes } name = "etl_060" hidden_effect = { event_target:etl_060 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_061 = yes } name = "etl_061" hidden_effect = { event_target:etl_061 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_062 = yes } name = "etl_062" hidden_effect = { event_target:etl_062 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_063 = yes } name = "etl_063" hidden_effect = { event_target:etl_063 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_064 = yes } name = "etl_064" hidden_effect = { event_target:etl_064 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_065 = yes } name = "etl_065" hidden_effect = { event_target:etl_065 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_066 = yes } name = "etl_066" hidden_effect = { event_target:etl_066 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_067 = yes } name = "etl_067" hidden_effect = { event_target:etl_067 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_068 = yes } name = "etl_068" hidden_effect = { event_target:etl_068 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_069 = yes } name = "etl_069" hidden_effect = { event_target:etl_069 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_070 = yes } name = "etl_070" hidden_effect = { event_target:etl_070 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_071 = yes } name = "etl_071" hidden_effect = { event_target:etl_071 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_072 = yes } name = "etl_072" hidden_effect = { event_target:etl_072 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_073 = yes } name = "etl_073" hidden_effect = { event_target:etl_073 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_074 = yes } name = "etl_074" hidden_effect = { event_target:etl_074 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_075 = yes } name = "etl_075" hidden_effect = { event_target:etl_075 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_076 = yes } name = "etl_076" hidden_effect = { event_target:etl_076 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_077 = yes } name = "etl_077" hidden_effect = { event_target:etl_077 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_078 = yes } name = "etl_078" hidden_effect = { event_target:etl_078 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_079 = yes } name = "etl_079" hidden_effect = { event_target:etl_079 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_080 = yes } name = "etl_080" hidden_effect = { event_target:etl_080 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_081 = yes } name = "etl_081" hidden_effect = { event_target:etl_081 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_082 = yes } name = "etl_082" hidden_effect = { event_target:etl_082 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_083 = yes } name = "etl_083" hidden_effect = { event_target:etl_083 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_084 = yes } name = "etl_084" hidden_effect = { event_target:etl_084 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_085 = yes } name = "etl_085" hidden_effect = { event_target:etl_085 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_086 = yes } name = "etl_086" hidden_effect = { event_target:etl_086 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_087 = yes } name = "etl_087" hidden_effect = { event_target:etl_087 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_088 = yes } name = "etl_088" hidden_effect = { event_target:etl_088 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_089 = yes } name = "etl_089" hidden_effect = { event_target:etl_089 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_090 = yes } name = "etl_090" hidden_effect = { event_target:etl_090 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_091 = yes } name = "etl_091" hidden_effect = { event_target:etl_091 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_092 = yes } name = "etl_092" hidden_effect = { event_target:etl_092 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_093 = yes } name = "etl_093" hidden_effect = { event_target:etl_093 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_094 = yes } name = "etl_094" hidden_effect = { event_target:etl_094 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_095 = yes } name = "etl_095" hidden_effect = { event_target:etl_095 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_096 = yes } name = "etl_096" hidden_effect = { event_target:etl_096 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_097 = yes } name = "etl_097" hidden_effect = { event_target:etl_097 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_098 = yes } name = "etl_098" hidden_effect = { event_target:etl_098 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_099 = yes } name = "etl_099" hidden_effect = { event_target:etl_099 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_100 = yes } name = "etl_100" hidden_effect = { event_target:etl_100 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_101 = yes } name = "etl_101" hidden_effect = { event_target:etl_101 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_102 = yes } name = "etl_102" hidden_effect = { event_target:etl_102 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_103 = yes } name = "etl_103" hidden_effect = { event_target:etl_103 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_104 = yes } name = "etl_104" hidden_effect = { event_target:etl_104 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_105 = yes } name = "etl_105" hidden_effect = { event_target:etl_105 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_106 = yes } name = "etl_106" hidden_effect = { event_target:etl_106 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_107 = yes } name = "etl_107" hidden_effect = { event_target:etl_107 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_108 = yes } name = "etl_108" hidden_effect = { event_target:etl_108 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_109 = yes } name = "etl_109" hidden_effect = { event_target:etl_109 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_110 = yes } name = "etl_110" hidden_effect = { event_target:etl_110 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_111 = yes } name = "etl_111" hidden_effect = { event_target:etl_111 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_112 = yes } name = "etl_112" hidden_effect = { event_target:etl_112 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_113 = yes } name = "etl_113" hidden_effect = { event_target:etl_113 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_114 = yes } name = "etl_114" hidden_effect = { event_target:etl_114 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_115 = yes } name = "etl_115" hidden_effect = { event_target:etl_115 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_116 = yes } name = "etl_116" hidden_effect = { event_target:etl_116 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_117 = yes } name = "etl_117" hidden_effect = { event_target:etl_117 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_118 = yes } name = "etl_118" hidden_effect = { event_target:etl_118 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_119 = yes } name = "etl_119" hidden_effect = { event_target:etl_119 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_120 = yes } name = "etl_120" hidden_effect = { event_target:etl_120 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_121 = yes } name = "etl_121" hidden_effect = { event_target:etl_121 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_122 = yes } name = "etl_122" hidden_effect = { event_target:etl_122 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_123 = yes } name = "etl_123" hidden_effect = { event_target:etl_123 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_124 = yes } name = "etl_124" hidden_effect = { event_target:etl_124 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_125 = yes } name = "etl_125" hidden_effect = { event_target:etl_125 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_126 = yes } name = "etl_126" hidden_effect = { event_target:etl_126 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_127 = yes } name = "etl_127" hidden_effect = { event_target:etl_127 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_128 = yes } name = "etl_128" hidden_effect = { event_target:etl_128 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_129 = yes } name = "etl_129" hidden_effect = { event_target:etl_129 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_130 = yes } name = "etl_130" hidden_effect = { event_target:etl_130 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_131 = yes } name = "etl_131" hidden_effect = { event_target:etl_131 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_132 = yes } name = "etl_132" hidden_effect = { event_target:etl_132 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_133 = yes } name = "etl_133" hidden_effect = { event_target:etl_133 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_134 = yes } name = "etl_134" hidden_effect = { event_target:etl_134 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_135 = yes } name = "etl_135" hidden_effect = { event_target:etl_135 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_136 = yes } name = "etl_136" hidden_effect = { event_target:etl_136 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_137 = yes } name = "etl_137" hidden_effect = { event_target:etl_137 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_138 = yes } name = "etl_138" hidden_effect = { event_target:etl_138 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_139 = yes } name = "etl_139" hidden_effect = { event_target:etl_139 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_140 = yes } name = "etl_140" hidden_effect = { event_target:etl_140 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_141 = yes } name = "etl_141" hidden_effect = { event_target:etl_141 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_142 = yes } name = "etl_142" hidden_effect = { event_target:etl_142 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_143 = yes } name = "etl_143" hidden_effect = { event_target:etl_143 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_144 = yes } name = "etl_144" hidden_effect = { event_target:etl_144 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_145 = yes } name = "etl_145" hidden_effect = { event_target:etl_145 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_146 = yes } name = "etl_146" hidden_effect = { event_target:etl_146 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_147 = yes } name = "etl_147" hidden_effect = { event_target:etl_147 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_148 = yes } name = "etl_148" hidden_effect = { event_target:etl_148 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_149 = yes } name = "etl_149" hidden_effect = { event_target:etl_149 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_150 = yes } name = "etl_150" hidden_effect = { event_target:etl_150 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_151 = yes } name = "etl_151" hidden_effect = { event_target:etl_151 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_152 = yes } name = "etl_152" hidden_effect = { event_target:etl_152 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_153 = yes } name = "etl_153" hidden_effect = { event_target:etl_153 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_154 = yes } name = "etl_154" hidden_effect = { event_target:etl_154 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_155 = yes } name = "etl_155" hidden_effect = { event_target:etl_155 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_156 = yes } name = "etl_156" hidden_effect = { event_target:etl_156 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_157 = yes } name = "etl_157" hidden_effect = { event_target:etl_157 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_158 = yes } name = "etl_158" hidden_effect = { event_target:etl_158 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_159 = yes } name = "etl_159" hidden_effect = { event_target:etl_159 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_160 = yes } name = "etl_160" hidden_effect = { event_target:etl_160 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_161 = yes } name = "etl_161" hidden_effect = { event_target:etl_161 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_162 = yes } name = "etl_162" hidden_effect = { event_target:etl_162 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_163 = yes } name = "etl_163" hidden_effect = { event_target:etl_163 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_164 = yes } name = "etl_164" hidden_effect = { event_target:etl_164 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_165 = yes } name = "etl_165" hidden_effect = { event_target:etl_165 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_166 = yes } name = "etl_166" hidden_effect = { event_target:etl_166 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_167 = yes } name = "etl_167" hidden_effect = { event_target:etl_167 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_168 = yes } name = "etl_168" hidden_effect = { event_target:etl_168 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_169 = yes } name = "etl_169" hidden_effect = { event_target:etl_169 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_170 = yes } name = "etl_170" hidden_effect = { event_target:etl_170 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_171 = yes } name = "etl_171" hidden_effect = { event_target:etl_171 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_172 = yes } name = "etl_172" hidden_effect = { event_target:etl_172 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_173 = yes } name = "etl_173" hidden_effect = { event_target:etl_173 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_174 = yes } name = "etl_174" hidden_effect = { event_target:etl_174 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_175 = yes } name = "etl_175" hidden_effect = { event_target:etl_175 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_176 = yes } name = "etl_176" hidden_effect = { event_target:etl_176 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_177 = yes } name = "etl_177" hidden_effect = { event_target:etl_177 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_178 = yes } name = "etl_178" hidden_effect = { event_target:etl_178 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_179 = yes } name = "etl_179" hidden_effect = { event_target:etl_179 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_180 = yes } name = "etl_180" hidden_effect = { event_target:etl_180 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_181 = yes } name = "etl_181" hidden_effect = { event_target:etl_181 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_182 = yes } name = "etl_182" hidden_effect = { event_target:etl_182 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_183 = yes } name = "etl_183" hidden_effect = { event_target:etl_183 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_184 = yes } name = "etl_184" hidden_effect = { event_target:etl_184 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_185 = yes } name = "etl_185" hidden_effect = { event_target:etl_185 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_186 = yes } name = "etl_186" hidden_effect = { event_target:etl_186 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_187 = yes } name = "etl_187" hidden_effect = { event_target:etl_187 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_188 = yes } name = "etl_188" hidden_effect = { event_target:etl_188 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_189 = yes } name = "etl_189" hidden_effect = { event_target:etl_189 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_190 = yes } name = "etl_190" hidden_effect = { event_target:etl_190 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_191 = yes } name = "etl_191" hidden_effect = { event_target:etl_191 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_192 = yes } name = "etl_192" hidden_effect = { event_target:etl_192 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_193 = yes } name = "etl_193" hidden_effect = { event_target:etl_193 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_194 = yes } name = "etl_194" hidden_effect = { event_target:etl_194 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_195 = yes } name = "etl_195" hidden_effect = { event_target:etl_195 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_196 = yes } name = "etl_196" hidden_effect = { event_target:etl_196 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_197 = yes } name = "etl_197" hidden_effect = { event_target:etl_197 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_198 = yes } name = "etl_198" hidden_effect = { event_target:etl_198 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_199 = yes } name = "etl_199" hidden_effect = { event_target:etl_199 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_200 = yes } name = "etl_200" hidden_effect = { event_target:etl_200 = { set_star_flag = giga_ndb_target_system@root } country_event = { id = giga_ndb.006 } } }

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.005 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.004 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# System or planet destruction?
country_event = {
	id = giga_ndb.006
	title = "giga_ndb.002.name"
	desc = "giga_ndb.006.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		remove_country_flag = giga_ndb_firing_system
		remove_country_flag = giga_ndb_firing_planet
	}

	# System
	option = {
		name = "giga_ndb.006.a"
		custom_gui = "ehof_mainui_option_big"
		response_text = "giga_ndb.system"
		allow = {
			custom_tooltip = {
				fail_text = "giga_ndb.006.cantnukeowncaptialsystem"
				any_system = {
					has_star_flag = giga_ndb_target_system@root
					NOT = {
						any_system_planet = {
							is_capital = yes
							exists = owner
							owner = { is_same_value = root }
						}
					}
				}
			}
		}
		hidden_effect = {
			set_country_flag = giga_ndb_firing_system
			random_system = {
				limit = { has_star_flag = giga_ndb_target_system@root }
				giga_ndb_system = yes
			}
		}
	}

	# Planet
	option = {
		name = "giga_ndb.006.b"
		custom_gui = "ehof_mainui_option_big"
		allow = {
			custom_tooltip = {
				fail_text = "giga.ndb.novalidtargets"
				any_system = {
					has_star_flag = giga_ndb_target_system@root
					any_system_planet = { ndb_can_target_planet = yes }
				}
			}
		}
		hidden_effect = {
			country_event = { id = giga_ndb.007 }
		}
	}

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.006 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.005 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# Target a planet
country_event = {
	id = giga_ndb.007
	title = "giga_ndb.002.name"
	desc = "giga_ndb.007.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		giga_event_target_list_clear = yes
		random_system = {
			limit = { has_star_flag = giga_ndb_target_system@root }
			every_system_planet = {
				limit = { ndb_can_target_planet = yes }
				giga_event_target_list_save = yes
			}
		}
	}

	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_001 = yes } name = "etl_001" hidden_effect = { event_target:etl_001 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_002 = yes } name = "etl_002" hidden_effect = { event_target:etl_002 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_003 = yes } name = "etl_003" hidden_effect = { event_target:etl_003 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_004 = yes } name = "etl_004" hidden_effect = { event_target:etl_004 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_005 = yes } name = "etl_005" hidden_effect = { event_target:etl_005 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_006 = yes } name = "etl_006" hidden_effect = { event_target:etl_006 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_007 = yes } name = "etl_007" hidden_effect = { event_target:etl_007 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_008 = yes } name = "etl_008" hidden_effect = { event_target:etl_008 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_009 = yes } name = "etl_009" hidden_effect = { event_target:etl_009 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_010 = yes } name = "etl_010" hidden_effect = { event_target:etl_010 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_011 = yes } name = "etl_011" hidden_effect = { event_target:etl_011 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_012 = yes } name = "etl_012" hidden_effect = { event_target:etl_012 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_013 = yes } name = "etl_013" hidden_effect = { event_target:etl_013 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_014 = yes } name = "etl_014" hidden_effect = { event_target:etl_014 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_015 = yes } name = "etl_015" hidden_effect = { event_target:etl_015 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_016 = yes } name = "etl_016" hidden_effect = { event_target:etl_016 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_017 = yes } name = "etl_017" hidden_effect = { event_target:etl_017 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_018 = yes } name = "etl_018" hidden_effect = { event_target:etl_018 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_019 = yes } name = "etl_019" hidden_effect = { event_target:etl_019 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_020 = yes } name = "etl_020" hidden_effect = { event_target:etl_020 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_021 = yes } name = "etl_021" hidden_effect = { event_target:etl_021 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_022 = yes } name = "etl_022" hidden_effect = { event_target:etl_022 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_023 = yes } name = "etl_023" hidden_effect = { event_target:etl_023 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_024 = yes } name = "etl_024" hidden_effect = { event_target:etl_024 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_025 = yes } name = "etl_025" hidden_effect = { event_target:etl_025 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_026 = yes } name = "etl_026" hidden_effect = { event_target:etl_026 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_027 = yes } name = "etl_027" hidden_effect = { event_target:etl_027 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_028 = yes } name = "etl_028" hidden_effect = { event_target:etl_028 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_029 = yes } name = "etl_029" hidden_effect = { event_target:etl_029 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_030 = yes } name = "etl_030" hidden_effect = { event_target:etl_030 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_031 = yes } name = "etl_031" hidden_effect = { event_target:etl_031 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_032 = yes } name = "etl_032" hidden_effect = { event_target:etl_032 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_033 = yes } name = "etl_033" hidden_effect = { event_target:etl_033 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_034 = yes } name = "etl_034" hidden_effect = { event_target:etl_034 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_035 = yes } name = "etl_035" hidden_effect = { event_target:etl_035 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_036 = yes } name = "etl_036" hidden_effect = { event_target:etl_036 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_037 = yes } name = "etl_037" hidden_effect = { event_target:etl_037 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_038 = yes } name = "etl_038" hidden_effect = { event_target:etl_038 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_039 = yes } name = "etl_039" hidden_effect = { event_target:etl_039 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_040 = yes } name = "etl_040" hidden_effect = { event_target:etl_040 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_041 = yes } name = "etl_041" hidden_effect = { event_target:etl_041 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_042 = yes } name = "etl_042" hidden_effect = { event_target:etl_042 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_043 = yes } name = "etl_043" hidden_effect = { event_target:etl_043 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_044 = yes } name = "etl_044" hidden_effect = { event_target:etl_044 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_045 = yes } name = "etl_045" hidden_effect = { event_target:etl_045 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_046 = yes } name = "etl_046" hidden_effect = { event_target:etl_046 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_047 = yes } name = "etl_047" hidden_effect = { event_target:etl_047 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_048 = yes } name = "etl_048" hidden_effect = { event_target:etl_048 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_049 = yes } name = "etl_049" hidden_effect = { event_target:etl_049 = { giga_ndb_planet = yes } } }
	option = { custom_gui = "ehof_mainui_option_big" trigger = { etl_050 = yes } name = "etl_050" hidden_effect = { event_target:etl_050 = { giga_ndb_planet = yes } } }

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.007 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.006 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

# Target a non-hostile planet
country_event = {
	id = giga_ndb.008
	title = "giga_ndb.002.name"
	desc = "giga_ndb.008.desc"
	custom_gui = "ehof_mainui_window"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = root.leader
		planet_background = root
		graphical_culture = root
		city_level = root
		room = root
	}

	immediate = {
		remove_country_flag = giga_ndb_crack
		remove_country_flag = giga_ndb_melt
		remove_country_flag = giga_ndb_barren
		remove_country_flag = giga_ndb_damage
	}

	# Crack the planet (5000)
	option = {
		trigger = { host_has_dlc = "Apocalypse" }
		name = "giga_ndb.008.a"
		custom_gui = "ehof_mainui_option_big"
		custom_tooltip = "giga_ndb.008.a.tooltip"
		hidden_effect = {
			country_event = { id = giga_ndb.201 days = 2 }
			set_country_flag = giga_ndb_firing_planet
			set_country_flag = giga_ndb_crack
		}
	}

	# Melt the planet (4000)
	option = {
		name = "giga_ndb.008.b"
		custom_gui = "ehof_mainui_option_big"
		custom_tooltip = "giga_ndb.008.b.tooltip"
		hidden_effect = {
			country_event = { id = giga_ndb.201 days = 2 }
			set_country_flag = giga_ndb_firing_planet
			set_country_flag = giga_ndb_melt
		}
	}

	# Barren the planet (3000)
	option = {
		name = "giga_ndb.008.c"
		custom_gui = "ehof_mainui_option_big"
		custom_tooltip = "giga_ndb.008.c.tooltip"
		hidden_effect = {
			country_event = { id = giga_ndb.201 days = 2 }
			set_country_flag = giga_ndb_firing_planet
			set_country_flag = giga_ndb_barren
		}
	}

	# Destroy buildings (2500)
	option = {
		name = "giga_ndb.008.d"
		custom_gui = "ehof_mainui_option_big"
		custom_tooltip = "giga_ndb.008.d.tooltip"
		hidden_effect = {
			country_event = { id = giga_ndb.201 days = 2 }
			set_country_flag = giga_ndb_firing_planet
			set_country_flag = giga_ndb_damage
		}
	}

	option = {
		custom_gui = "ehof_mainui_blank"
		name = "ehof_header_blank"
		hidden_effect = { country_event = { id = giga_ndb.008 } }
	}

	# Back
	option = {
		name = "ehof_goback"
		custom_gui = "ehof_mainui_option_big"
		hidden_effect = { country_event = { id = giga_ndb.007 } }
	}

	# Cancel
	option = {
		name = "giga_ndb.002.e"
		custom_gui = "ehof_mainui_option_big"
		default_hide_option = yes
		hidden_effect = { country_event = { id = giga_ndb.001 } }
	}
}

###########################
### Destroy ###############
###########################
# Fire the NDB
country_event = {
	id = giga_ndb.201
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		save_event_target_as = ndb_owner
		random_system_within_border = {
			limit = { has_star_flag = giga_ndb_system@root }
			giga_ndb_open_gate = yes

			random_system_megastructure = {
				limit = { is_megastructure_type = nicoll_beam_menu }
				upgrade_megastructure_to = nicoll_beam_firing
				finish_upgrade = yes
			}

			# Firing at star
			if = {
				limit = { root = { has_country_flag = giga_ndb_firing_system } }
				star = {
					planet_event = { id = giga_ndb.202 days = 1 }					# Beam 1/2   Animation
					planet_event = { id = giga_ndb.203 days = 3 }					# Beam 3/4   Animation
					planet_event = { id = giga_ndb.204 days = 5 }					# Beam 5/6   Animation
					planet_event = { id = giga_ndb.205 days = 7 }					# Beam 7/8   Animation
					planet_event = { id = giga_ndb.206 days = 9 }					# Beam 9/10  Animation
					planet_event = { id = giga_ndb.207 days = 11 }					# Beam 11/12 Animation
					planet_event = { id = giga_ndb.208 days = 13 }					# Beam 13/14 Animation
					planet_event = { id = giga_ndb.209 days = 15 }					# Beam 15/16 Animation
					planet_event = { id = giga_ndb.2104 days = 17 }					# Main Beam Animation
					root = { country_event = { id = giga_ndb.220 days = 37 } }		# Reset NDB
				}
				random_system = {
					limit = { has_star_flag = giga_ndb_target@root }
					star = {
						giga_ndb_target_beam_portal = yes
						planet_event = { id = giga_ndb.211 days = 22 }				# Target Beam Animation (System)
						planet_event = { id = giga_ndb.301 days = 27 }				# Destroy the system
						root = { country_event = { id = giga_ndb.302 days = 27 } }	# Add opinions/etc
					}
				}
			}

			# Firing at planet
			else_if = {
				limit = { root = { has_country_flag = giga_ndb_firing_planet } }

				# Intensity (4)
				if = {
					limit = { root = { has_country_flag = giga_ndb_crack } }
					star = {
						planet_event = { id = giga_ndb.202 days = 1 }					# Beam 1/2   Animation
						planet_event = { id = giga_ndb.203 days = 3 }					# Beam 3/4   Animation
						planet_event = { id = giga_ndb.204 days = 5 }					# Beam 5/6   Animation
						planet_event = { id = giga_ndb.205 days = 7 }					# Beam 7/8   Animation
						planet_event = { id = giga_ndb.206 days = 9 }					# Beam 9/10  Animation
						planet_event = { id = giga_ndb.207 days = 11 }					# Beam 11/12 Animation
						planet_event = { id = giga_ndb.2103 days = 13 }					# Main Beam Animation
						root = { country_event = { id = giga_ndb.220 days = 33 } }		# Reset NDB
					}
					random_system = {
						limit = { has_star_flag = giga_ndb_target@root }
						random_system_planet = {
							limit = { has_planet_flag = giga_ndb_target@root }
							planet_event = { id = giga_ndb.215 days = 18 }				# Target Beam Animation (4)
							planet_event = { id = giga_ndb.301 days = 23 }				# Destroy the planet
							root = { country_event = { id = giga_ndb.302 days = 23 } }	# Add opinions/etc
						}
					}
				}

				# Intensity (3)
				else_if = {
					limit = { root = { has_country_flag = giga_ndb_melt } }
					star = {
						planet_event = { id = giga_ndb.202 days = 1 }					# Beam 1/2   Animation
						planet_event = { id = giga_ndb.203 days = 3 }					# Beam 3/4   Animation
						planet_event = { id = giga_ndb.204 days = 5 }					# Beam 5/6   Animation
						planet_event = { id = giga_ndb.205 days = 7 }					# Beam 7/8   Animation
						planet_event = { id = giga_ndb.206 days = 9 }					# Beam 9/10  Animation
						planet_event = { id = giga_ndb.2102 days = 11 }					# Main Beam Animation
						root = { country_event = { id = giga_ndb.220 days = 31 } }		# Reset NDB
					}
					random_system = {
						limit = { has_star_flag = giga_ndb_target@root }
						random_system_planet = {
							limit = { has_planet_flag = giga_ndb_target@root }
							giga_ndb_target_beam_portal = yes
							planet_event = { id = giga_ndb.214 days = 16 }				# Target Beam Animation (3)
							planet_event = { id = giga_ndb.301 days = 21 }				# Destroy the planet
							root = { country_event = { id = giga_ndb.302 days = 21 } }	# Add opinions/etc
						}
					}
				}

				# Intensity (2)
				else_if = {
					limit = { root = { has_country_flag = giga_ndb_barren } }
					star = {
						planet_event = { id = giga_ndb.202 days = 1 }					# Beam 1/2   Animation
						planet_event = { id = giga_ndb.203 days = 3 }					# Beam 3/4   Animation
						planet_event = { id = giga_ndb.204 days = 5 }					# Beam 5/6   Animation
						planet_event = { id = giga_ndb.2101 days = 7 }					# Main Beam Animation
						root = { country_event = { id = giga_ndb.220 days = 27 } }		# Reset NDB
					}
					random_system = {
						limit = { has_star_flag = giga_ndb_target@root }
						random_system_planet = {
							limit = { has_planet_flag = giga_ndb_target@root }
							planet_event = { id = giga_ndb.213 days = 12 }				# Target Beam Animation (2)
							planet_event = { id = giga_ndb.301 days = 17 }				# Destroy the planet
							root = { country_event = { id = giga_ndb.302 days = 17 } }	# Add opinions/etc
						}
					}
				}

				# Intensity (1)
				else_if = {
					limit = { root = { has_country_flag = giga_ndb_damage } }
					star = {
						planet_event = { id = giga_ndb.202 days = 1 }					# Beam 1/2   Animation
						planet_event = { id = giga_ndb.203 days = 3 }					# Beam 3/4   Animation
						planet_event = { id = giga_ndb.210 days = 5 }					# Main Beam Animation
						root = { country_event = { id = giga_ndb.220 days = 25 } }		# Reset NDB
					}
					random_system = {
						limit = { has_star_flag = giga_ndb_target@root }
						random_system_planet = {
							limit = { has_planet_flag = giga_ndb_target@root }
							planet_event = { id = giga_ndb.212 days = 10 }				# Target Beam Animation (1)
							planet_event = { id = giga_ndb.301 days = 15 }				# Destroy the planet
							root = { country_event = { id = giga_ndb.302 days = 15 } }	# Add opinions/etc
						}
					}
				}
			}
		}
	}
}

planet_event = { id = giga_ndb.202 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_4 = yes } }
planet_event = { id = giga_ndb.203 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_6 = yes } }
planet_event = { id = giga_ndb.204 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_1 = yes } }
planet_event = { id = giga_ndb.205 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_2 = yes } }
planet_event = { id = giga_ndb.206 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_8 = yes } }
planet_event = { id = giga_ndb.207 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_5 = yes } }
planet_event = { id = giga_ndb.208 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_3 = yes } }
planet_event = { id = giga_ndb.209 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_7 = yes } }
planet_event = { id = giga_ndb.210 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_9 = yes } }
planet_event = { id = giga_ndb.2101 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_10 = yes } }
planet_event = { id = giga_ndb.2102 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_11 = yes } }
planet_event = { id = giga_ndb.2103 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_12 = yes } }
planet_event = { id = giga_ndb.2104 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_beam_13 = yes } }
planet_event = { id = giga_ndb.211 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_target_beam_system = yes } }
planet_event = { id = giga_ndb.212 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_target_beam_planet_1 = yes } }
planet_event = { id = giga_ndb.213 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_target_beam_planet_2 = yes } }
planet_event = { id = giga_ndb.214 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_target_beam_planet_3 = yes } }
planet_event = { id = giga_ndb.215 hide_window = yes is_triggered_only = yes immediate = { giga_ndb_target_beam_planet_4 = yes } }

# Reset
country_event = {
	id = giga_ndb.220
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		random_system_within_border = {
			limit = { has_star_flag = giga_ndb_system@root }
			giga_ndb_close_gate = yes
			random_system_megastructure = {
				limit = { is_megastructure_type = nicoll_beam_firing }
				upgrade_megastructure_to = nicoll_beam_cooldown
				finish_upgrade = yes
			}
			every_system_ambient_object = {
				limit = {
					OR = {
						is_ambient_object_type = nicoll_beam_1
						is_ambient_object_type = nicoll_beam_2
						is_ambient_object_type = nicoll_beam_3
						is_ambient_object_type = nicoll_beam_4
						is_ambient_object_type = nicoll_beam_5
						is_ambient_object_type = nicoll_beam_6
						is_ambient_object_type = nicoll_beam_7
						is_ambient_object_type = nicoll_beam_8
						is_ambient_object_type = nicoll_beam_9
						is_ambient_object_type = nicoll_beam_10
						is_ambient_object_type = nicoll_beam_11
						is_ambient_object_type = nicoll_beam_12
						is_ambient_object_type = nicoll_beam_13
					}
				}
				destroy_ambient_object = this
			}
		}
		random_system = {
			limit = { has_star_flag = giga_ndb_target@root }
			every_system_ambient_object = {
				limit = {
					OR = {
						is_ambient_object_type = nicoll_target_beam_portal
						is_ambient_object_type = nicoll_target_beam_planet_1
						is_ambient_object_type = nicoll_target_beam_planet_2
						is_ambient_object_type = nicoll_target_beam_planet_3
						is_ambient_object_type = nicoll_target_beam_planet_4
						is_ambient_object_type = nicoll_target_beam_system
					}
				}
				destroy_ambient_object = this
			}
		}
	}
}

###########################
### Effects ###############
###########################
# Destroy Effects
planet_event = {
	id = giga_ndb.301
	hide_window = yes
	is_triggered_only = yes

	immediate = {

		# System damage
		if = {
			limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_firing_system } }
			solar_system = {
				fire_on_action = {
					on_action = on_destroy_star_system
					scopes = {
						from = from
					}
				}
				fire_on_action = {
					on_action = on_destroy_star_system_ndb
					scopes = {
						from = from
					}
				}
				every_neighbor_system = { remove_hyperlane_safe = { from = prev to = this } }
				set_star_class = sc_neutron_star
				every_fleet_in_system = {
					limit = { owner = { NOT = { is_immune_to_giga_hyperweapon = yes } } } 
					destroy_fleet = this 
				}
				if = {
					limit = {
						any_system_planet = { has_planet_flag = gigaflusion }
						has_global_flag = katzenartig_imperium_happened
						NOT = { has_global_flag = katzenartig_imperium_defeated }
						any_country = { is_country_type = katzen_submarines } 
					}
					event_target:ndb_owner = {
						set_country_flag = player_country_cracked_flusion
					}
				}
				every_system_planet = {
					ndb_remove_planets_effect = yes
				}
				every_system_megastructure = {
					limit = {
						is_ndb_vulnerable_mega = yes
					}
					remove_megastructure = this
				}
				set_asteroid_belt = { radius = 0 }
				
				giga_remove_system_debris = yes
				every_system_planet = {
					limit = { is_star = yes NOT = { is_planet_class = pc_black_hole } }
					create_ambient_object = {
						type = "star_explosion"
						play_animation_once = yes
						location = this
					}
					last_created_ambient_object = {
						set_location = {
							target = prev
							distance = 0
							angle = random
						}
					}
				}
				create_ambient_object = { type = "nebula_L8_entity" location = star }
				create_ambient_object = { type = "nebula_L10_entity" location = star }
				create_ambient_object = {
					type = "destroyed_system"
					location = star
				}
				last_created_ambient_object = {
					set_ambient_object_flag = destroyed_system_effect
					set_location = {
						target = star
						distance = 0
						angle = random
					}
				}
			}
		}

		# Planet damage
		else_if = {
			limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_firing_planet } }

			if = {
				limit = {
					has_planet_flag = gigaflusion
					has_global_flag = katzenartig_imperium_happened
					NOT = { has_global_flag = katzenartig_imperium_defeated }
					any_country = { is_country_type = katzen_submarines } 
				}
				event_target:ndb_owner = { set_country_flag = player_country_cracked_flusion }
			}

			if = {
				limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_damage } }
				# Deal with planets/habitats/ringworlds
				if = {
					limit = {
						NOR = {
							giga_habitable_structure = yes
						}
					}
					change_pc = pc_ll_temperate
				}
				add_planet_devastation = 100
			}

			else = {
				# Ringworlds
				if = {
					limit = {
						is_giga_ringworld = yes
					}
					change_pc = pc_ringworld_habitable_damaged
				}

				# Habitats
				else_if = {
					limit = {
						is_giga_habitat = yes
					}
					giga_remove_planet = yes
				}

				# Orbital ring
				else_if = {
					limit = { is_planet_class = pc_gigaorbital_ring }
					if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_crack } }
						giga_remove_planet = yes
					}
					else = { change_pc = pc_gigaorbital_ring_ruined }
				}

				# Gas Giant
				else_if = {
					limit = { is_giga_habitable_gas_giant = yes }
					if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_crack } }
						change_pc = pc_molten
						change_planet_size = -15
					}
					else_if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_melt } }
						change_pc = pc_gas_giant
						change_planet_size = -5
					}
					else = { change_pc = pc_gas_giant }
				}

				# Normal planets
				else = {
					if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_crack } }
						change_pc = pc_shattered
						set_deposit = d_nicoll_deposit
					}
					else_if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_melt } }
						change_pc = pc_molten
						set_deposit = d_iodizium_deposit
					}
					else_if = {
						limit = { event_target:ndb_owner = { has_country_flag = giga_ndb_barren } }
						change_pc = pc_barren
						add_modifier = { modifier = "terraforming_candidate" days = -1 }
					}
				}
			}

			create_ambient_object = {
				type = "explosion_particle_object"
				location = this
				duration = 5

				use_3d_location = yes

				entity_offset = { min = 0 max = 0 }
				entity_offset_angle = { min = 0 max = 360 }
				entity_offset_height = { min = 0 max = 0 }

				entity_scale_to_size = yes
				scale = 0.1
			}
		}
	}
}

# Opinions
country_event = {
	id = giga_ndb.302
	hide_window = yes
	is_triggered_only = yes

	immediate = {

		# Breaching Galactic Law
		if = {
			limit = {
				is_galactic_community_formed = yes
				OR = {
					AND = {
						is_active_resolution = "resolution_rulesofwar_reverence_for_life"
						root = { has_country_flag = giga_ndb_crack }
					}
					is_active_resolution = "resolution_rulesofwar_independent_tribunals"
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			set_timed_country_flag = { flag = resolution_breached_fired_cracker days = 3600 }
		}

		random_system = {
			limit = { has_star_flag = giga_ndb_target@root }

			# Opinions
			every_country = {
				limit = {
					NOR = {
						is_country_type = primitive
						is_same_value = root.from
					}
					ehof_default_country = yes
				}
				if = {
					limit = {
						OR = {
							AND = {
								root = { has_country_flag = giga_ndb_firing_system }
								OR = {
									prev = { NOT = { exists = owner } }
									prev = { any_system_planet = { NOT = { is_planet_class = pc_infested } is_colony = yes } }
								}
							}
							AND = {
								root = { has_country_flag = giga_ndb_firing_planet }
								OR = {
									prev = { NOT = { exists = owner } }
									prev = {
										any_system_planet = {
											has_planet_flag = giga_ndb_target@root
											NOT = { is_planet_class = pc_infested }
											is_colony = yes
										}
									}
								}
							}
						}
					}

					# Empty system
					if = {
						limit = { prev = { NOT = { exists = owner } } }
						add_opinion_modifier = { who = root modifier = opinion_broke_own_fed_empty_planet }
					}

					# System owner
					else_if = {
						limit = { prev = { exists = owner } is_same_value = prev.owner }
						if = {
							limit = { root = { has_country_flag = giga_ndb_damage } }
							add_opinion_modifier = { who = root modifier = opinion_broke_our_planet_buildings }
						}
						else = { add_opinion_modifier = { who = root modifier = opinion_broke_our_planet } }

						# Automatically declare war
						if = {
							limit = { prev.owner = { NOT = { is_at_war_with = root } } }
							prev.owner = { declare_war = { target = root attacker_war_goal = "wg_end_threat_hyperweapon" } }
						}
					}

					# Is ally with system owner
					else_if = {
						limit = {
							prev = { exists = owner }
							OR = {
								has_defensive_pact = prev.owner
								is_in_federation_with = prev.owner
								AND = {
									is_subject = yes
									exists = overlord
									overlord = { is_same_value = prev.owner }
								}
							}
						}
						if = {
							limit = { root = { has_country_flag = giga_ndb_damage } }
							add_opinion_modifier = { who = root modifier = opinion_broke_ally_planet_buildings }
						}
						else = { add_opinion_modifier = { who = root modifier = opinion_broke_ally_planet } }
					}

					# Is in a federation with you and the target
					else_if = {
						limit = {
							prev = { exists = owner }
							is_in_federation_with = root
							OR = {
								is_in_federation_with = prev.owner
								AND = {
									is_subject = yes
									exists = overlord
									overlord = { is_same_value = prev.owner }
								}
							}
						}
						if = {
							limit = { root = { has_country_flag = giga_ndb_damage } }
							add_opinion_modifier = { who = root modifier = opinion_broke_own_fed_planet_buildings }
						}
						else = { add_opinion_modifier = { who = root modifier = opinion_broke_own_fed_planet } }
					}

					# Everyone else
					else = {
						if = {
							limit = { root = { has_country_flag = giga_ndb_damage } }
							add_opinion_modifier = { who = root modifier = opinion_broke_planet_buildings }
						}
						else = { add_opinion_modifier = { who = root modifier = opinion_broke_planet } }
					}
				}
			}

			# Swarm Situation Log counter
			if = {
				limit = {
					exists = owner
					owner = { is_country_type = swarm }
				}
				every_country = {
					limit = { has_event_chain = "prethoryn_scourge_chain" }
					add_opinion_modifier = { who = this modifier = opinion_harmed_crisis }
					add_event_chain_counter = {
						event_chain = "prethoryn_scourge_chain"
						counter = "infested_worlds"
						amount = -1
					}
					add_event_chain_counter = {
						event_chain = "prethoryn_scourge_chain"
						counter = "infested_worlds_cleansed"
						amount = 1
					}
				}
			}

			#Dismantle observation post
			if = {
				limit = { root = { has_country_flag = giga_ndb_firing_planet } }
				random_system_planet = {
					limit = { has_planet_flag = giga_ndb_target@root }
					if = {
						limit = { has_observation_outpost = yes }
						observation_outpost_owner = { country_event = { id = planet_destruction.1000 days = 1 } }
					}
				}
			}

			# Attacked Holy Planet
			if = {
				limit = { any_system_planet = { has_modifier = holy_planet } }
				root = { set_country_flag = holy_world_killed }
			}

			# Add war exhaustion
			if = {
				limit = {
					exists = owner
					owner = { is_at_war_with = root }
				}
				if = {
					limit = { root = { has_country_flag = giga_ndb_firing_system } }
					every_system_planet = {
						limit = { is_colony = yes }
						root = { add_static_war_exhaustion = { attacker = root location = prev value_for_planet_destruction = 1 } }
					}
				}
				else = {
					random_system_planet = {
						limit = { has_planet_flag = giga_ndb_target@root }
						root = { add_static_war_exhaustion = { attacker = root location = prev value_for_planet_destruction = 1 } }
					}
				}
			}
		}
	}
}